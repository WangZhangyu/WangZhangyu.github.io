<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Hexo</title>
  
  
  <link href="https://wangzhangyu.github.io/atom.xml" rel="self"/>
  
  <link href="https://wangzhangyu.github.io/"/>
  <updated>2024-03-23T05:26:58.107Z</updated>
  <id>https://wangzhangyu.github.io/</id>
  
  <author>
    <name>Wang Zhangyu</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>linux基本命令</title>
    <link href="https://wangzhangyu.github.io/2024/03/22/linux%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/"/>
    <id>https://wangzhangyu.github.io/2024/03/22/linux%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/</id>
    <published>2024-03-22T15:45:39.000Z</published>
    <updated>2024-03-23T05:26:58.107Z</updated>
    
    <content type="html"><![CDATA[<ul><li><p>系统相关</p><table><thead><tr><th>命令</th><th>说明</th></tr></thead><tbody><tr><td><code>lsb_release -a</code></td><td>查看Ubuntu版本</td></tr><tr><td><code>uname -a</code></td><td>查看操作系统详细信息</td></tr><tr><td><code>top</code> 或 <code>htop</code></td><td>查看CPU使用情况</td></tr><tr><td><code>nvidia-smi</code> 或 <code>nvtop</code></td><td>查看GPU使用情况</td></tr><tr><td><code>nvcc -V</code></td><td>查看CUDA版本</td></tr><tr><td><code>yum install xxx</code>(centos)或 <code>apt install xxx</code>(ubuntu)</td><td>安装软件</td></tr><tr><td><code>shutdown -h now</code> 或 <code>poweroff</code></td><td>关机</td></tr><tr><td><code>shutdown -r now</code> 或 <code>reboot</code></td><td>重启</td></tr><tr><td><code>whoami</code></td><td>显示当前用户名</td></tr><tr><td><code>which</code></td><td>在PATH变量指定的路径中搜索可执行文件的位置</td></tr><tr><td><code>whereis</code></td><td>在标准位置中搜索可执行文件、源码文件和帮助文件的位置</td></tr><tr><td><code>date</code></td><td>显示当前日期和时间</td></tr><tr><td><code>cal</code></td><td>显示当前月份的日历</td></tr><tr><td><code>uptime</code></td><td>显示系统的运行时间和平均负载</td></tr><tr><td><code>history</code></td><td>显示历史命令记录</td></tr><tr><td><code>man</code></td><td>显示命令的使用手册</td></tr><tr><td><code>info</code></td><td>显示命令的更详细的使用信息</td></tr><tr><td><code>ln</code></td><td>创建链接</td></tr><tr><td><code>find</code></td><td>在文件系统中搜索文件</td></tr><tr><td><code>locate</code></td><td>使用数据库快速搜索文件</td></tr><tr><td><code>ssh</code></td><td>远程登录另一台计算机</td></tr><tr><td><code>echo</code></td><td>输出文本内容</td></tr><tr><td><code>hostname</code></td><td>显示或设置系统主机名</td></tr></tbody></table></li><li><p>进程相关</p><table><thead><tr><th>命令</th><th>说明</th></tr></thead><tbody><tr><td><code>ps -ef | grep xxxx</code></td><td>查看某个进程状态</td></tr><tr><td><code>kill -9 xxxx</code></td><td>杀掉进程</td></tr></tbody></table></li><li><p>网络</p><table><thead><tr><th>命令</th><th>说明</th></tr></thead><tbody><tr><td><code>ping</code></td><td>测试与另一台计算机的连接情况</td></tr><tr><td><code>traceroute</code></td><td>显示到目标主机的路径</td></tr><tr><td><code>ifconfig</code></td><td>显示和配置网络接口信息</td></tr><tr><td><code>netstat</code></td><td>显示网络连接、路由表和网络接口状态</td></tr><tr><td><code>route</code></td><td>显示和配置路由表信息</td></tr><tr><td><code>iptables -S</code></td><td>显示当前的iptables规则</td></tr><tr><td><code>ufw</code></td><td>用于管理Uncomplicated Firewall (UFW)的命令</td></tr><tr><td><code>curl</code></td><td>用于向服务器发送HTTP请求并显示返回的数据</td></tr><tr><td><code>wget</code></td><td>用于从指定URL下载文件</td></tr><tr><td><code>sudo ufw enable</code></td><td>启用防火墙</td></tr><tr><td><code>sudo ufw disable</code></td><td>禁用防火墙</td></tr><tr><td><code>sudo ufw allow &lt;port&gt;</code></td><td>开放指定端口（允许特定端口的传入连接）</td></tr><tr><td><code>sudo ufw deny &lt;port&gt;</code></td><td>关闭指定端口（禁止特定端口的传入连接）</td></tr><tr><td><code>sudo ufw allow from &lt;IP_address&gt;</code></td><td>允许特定IP地址的访问</td></tr><tr><td><code>sudo ufw deny from &lt;IP_address&gt;</code></td><td>拒绝特定IP地址的访问</td></tr><tr><td><code>sudo ufw allow ssh</code></td><td>允许SSH服务的访问</td></tr><tr><td><code>sudo ufw status</code></td><td>查看当前防火墙规则状态</td></tr></tbody></table></li><li><p>文件相关</p><table><thead><tr><th>命令</th><th>说明</th></tr></thead><tbody><tr><td><code>touch file</code></td><td>创建名为file的空文件</td></tr><tr><td><code>cat file</code></td><td>显示文件的全部内容</td></tr><tr><td><code>tail file</code></td><td>显示文件的末尾几行</td></tr><tr><td><code>head file</code></td><td>显示文件的前几行</td></tr><tr><td><code>more file</code></td><td>逐页显示文件内容，空格键向下翻页</td></tr><tr><td><code>less file</code></td><td>逐页显示文件内容，可以上下翻页、搜索等交互式操作</td></tr></tbody></table></li><li><p>传输操作</p><table><thead><tr><th>传输操作</th><th>命令</th><th>说明</th></tr></thead><tbody><tr><td>复制文件</td><td><code>cp</code></td><td>将文件或目录复制到另一个位置</td></tr><tr><td>移动文件</td><td><code>mv</code></td><td>将文件或目录从一个位置移动到另一个位置，也可用于重命名文件或目录</td></tr><tr><td>远程复制</td><td><code>scp</code></td><td>安全地将文件从本地系统复制到远程系统，或者从远程系统复制到本地系统</td></tr><tr><td>同步文件</td><td><code>rsync</code></td><td>在本地系统和远程系统之间同步文件和目录，可以进行增量复制并保持文件权限</td></tr></tbody></table></li><li><p>权限与扩展属性</p><table><thead><tr><th>权限操作</th><th>命令</th><th>说明</th></tr></thead><tbody><tr><td>更改所有者</td><td><code>chown</code></td><td>将文件或目录的所有者更改为指定用户或用户组</td></tr><tr><td>更改组</td><td><code>chgrp</code></td><td>将文件或目录的所属组更改为指定的用户组</td></tr><tr><td>更改权限</td><td><code>chmod</code></td><td>更改文件或目录的权限，控制文件的读、写、执行权限以及特殊权限位的设置</td></tr><tr><td>修改扩展属性</td><td><code>chattr +iau</code></td><td>修改文件或目录的扩展属性，添加、删除或修改指定的扩展属性</td></tr><tr><td>显示扩展属性</td><td><code>lsattr</code></td><td>显示文件或目录的扩展属性</td></tr></tbody></table></li><li><p>磁盘挂载和空间查看</p><table><thead><tr><th>挂载操作</th><th>命令</th><th>说明</th></tr></thead><tbody><tr><td>挂载文件系统</td><td><code>mount /dev/sdb1 /mnt</code></td><td>将文件系统挂载到指定的挂载点</td></tr><tr><td>卸载文件系统</td><td><code>umount /dev/sdb1</code> 或 <code>umount /mnt</code></td><td>卸载已经挂载的文件系统，通常用 <code>umount 挂载点</code> 命令，例如 <code>umount /mnt</code></td></tr><tr><td>查看磁盘空间</td><td><code>df -h</code></td><td>查看文件系统的磁盘空间使用情况</td></tr><tr><td>查看目录空间</td><td><code>du -h</code> 或 <code>du -h --max-depth=1</code></td><td>查看指定目录或文件的磁盘空间使用情况</td></tr><tr><td>查看内存使用</td><td><code>free -h</code></td><td>查看系统内存使用情况</td></tr><tr><td>查看磁盘分区</td><td><code>fdisk -l</code></td><td>查看系统的磁盘分区信息</td></tr></tbody></table></li><li><p>打包与解压</p><table><thead><tr><th>操作</th><th>命令</th><th>说明</th></tr></thead><tbody><tr><td>打包</td><td><code>tar -zcvf</code></td><td>使用gzip压缩将文件或目录打包为.tar.gz文件</td></tr><tr><td>解压</td><td><code>tar -zxvf</code></td><td>解压缩.tar.gz文件，同时调用gzip解压缩命令</td></tr><tr><td>解压</td><td><code>unzip</code></td><td>解压缩.zip文件</td></tr><tr><td>压缩</td><td><code>gzip</code></td><td>压缩和解压文件（使用gzip格式）</td></tr><tr><td>压缩</td><td><code>zip</code></td><td>压缩和解压文件（使用zip格式）</td></tr><tr><td>解压</td><td><code>unzip</code></td><td>解压zip格式的文件</td></tr></tbody></table></li><li><p>三剑客</p><table><thead><tr><th>工具名称</th><th>说明</th></tr></thead><tbody><tr><td><code>awk</code></td><td>用于文本处理和数据提取的强大工具</td></tr><tr><td><code>grep</code></td><td>用于搜索文本中的指定模式，并输出匹配行</td></tr><tr><td><code>sed</code></td><td>用于对文本进行流式文本编辑和转换的工具</td></tr></tbody></table></li><li><p>启动服务</p><table><thead><tr><th>启动服务操作</th><th>命令</th><th>说明</th></tr></thead><tbody><tr><td>systemd</td><td><code>systemctl start</code></td><td>启动指定服务，例如 <code>systemctl start service_name</code></td></tr><tr><td>service</td><td><code>service</code></td><td>启动指定服务，例如 <code>service service_name start</code></td></tr></tbody></table></li><li><p>linux系统的文件结构</p><table><thead><tr><th>Linux根目录下各目录</th><th>说明</th></tr></thead><tbody><tr><td>&#x2F;bin</td><td>二进制文件，系统常规命令</td></tr><tr><td>&#x2F;boot</td><td>系统启动分区，系统启动时读取的文件</td></tr><tr><td>&#x2F;dev</td><td>设备文件</td></tr><tr><td>&#x2F;etc</td><td>大多数配置文件</td></tr><tr><td>&#x2F;home</td><td>普通用户的家目录</td></tr><tr><td>&#x2F;lib</td><td>32位函数库</td></tr><tr><td>&#x2F;lib64</td><td>64位库</td></tr><tr><td>&#x2F;media</td><td>手动临时挂载点</td></tr><tr><td>&#x2F;mnt</td><td>手动临时挂载点</td></tr><tr><td>&#x2F;opt</td><td>第三方软件安装位置</td></tr><tr><td>&#x2F;proc</td><td>进程信息及硬件信息</td></tr><tr><td>&#x2F;root</td><td>临时设备的默认挂载点</td></tr><tr><td>&#x2F;run</td><td>系统运行时数据</td></tr><tr><td>&#x2F;sbin</td><td>系统管理命令</td></tr><tr><td>&#x2F;srv</td><td>数据</td></tr><tr><td>&#x2F;var</td><td>可变数据（例如日志、邮件等）</td></tr><tr><td>&#x2F;sys</td><td>内核相关信息</td></tr><tr><td>&#x2F;tmp</td><td>临时文件</td></tr><tr><td>&#x2F;usr</td><td>用户相关设定</td></tr></tbody></table></li><li><p>一些常见的文件位置</p><table><thead><tr><th>文件&#x2F;目录</th><th>位置</th></tr></thead><tbody><tr><td>&#x2F;etc&#x2F;passwd</td><td>包含系统上所有用户的基本信息</td></tr><tr><td>&#x2F;etc&#x2F;shadow</td><td>包含系统上所有用户的加密密码</td></tr><tr><td>&#x2F;etc&#x2F;group</td><td>包含系统上所有用户组的信息</td></tr><tr><td>&#x2F;etc&#x2F;hostname</td><td>包含主机名</td></tr><tr><td>&#x2F;etc&#x2F;hosts</td><td>包含IP地址和主机名的映射</td></tr><tr><td>&#x2F;etc&#x2F;resolv.conf</td><td>包含DNS解析器的配置信息</td></tr><tr><td>&#x2F;etc&#x2F;fstab</td><td>包含文件系统挂载信息</td></tr><tr><td>&#x2F;etc&#x2F;ssh&#x2F;sshd_config</td><td>SSH服务器的配置文件</td></tr><tr><td>&#x2F;etc&#x2F;profile</td><td>用户的全局Shell配置文件</td></tr><tr><td>&#x2F;var&#x2F;log</td><td>包含系统日志文件的目录</td></tr><tr><td>&#x2F;var&#x2F;spool&#x2F;mail</td><td>包含用户邮件的目录</td></tr><tr><td>&#x2F;var&#x2F;run</td><td>包含系统运行时的临时文件</td></tr><tr><td>&#x2F;var&#x2F;www&#x2F;html</td><td>Web服务器的根目录（通常是Apache或Nginx）</td></tr><tr><td>&#x2F;usr&#x2F;bin</td><td>包含大多数用户可执行文件的目录</td></tr><tr><td>&#x2F;usr&#x2F;sbin</td><td>包含系统管理员可执行文件的目录</td></tr><tr><td>&#x2F;usr&#x2F;lib</td><td>包含大多数系统库的目录</td></tr><tr><td>&#x2F;usr&#x2F;local&#x2F;bin</td><td>包含用户安装的软件可执行文件的目录</td></tr><tr><td>&#x2F;usr&#x2F;local&#x2F;lib</td><td>包含用户安装的软件库的目录</td></tr></tbody></table></li></ul><p>参考：<br><a href="https://blog.csdn.net/m0_46422300/article/details/104645072">https://blog.csdn.net/m0_46422300/article/details/104645072</a><br><a href="https://www.ruanyifeng.com/blog/developer/">https://www.ruanyifeng.com/blog/developer/</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;系统相关&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;命令&lt;/th&gt;
&lt;th&gt;说明&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td&gt;&lt;code&gt;lsb_release -a&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;查看Ubun</summary>
      
    
    
    
    <category term="Linux" scheme="https://wangzhangyu.github.io/categories/Linux/"/>
    
    
    <category term="Linux" scheme="https://wangzhangyu.github.io/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>可执行文件报错：“No such file or directory”</title>
    <link href="https://wangzhangyu.github.io/2024/03/20/%E6%96%87%E4%BB%B6%E4%B8%8D%E5%AD%98%E5%9C%A8/"/>
    <id>https://wangzhangyu.github.io/2024/03/20/%E6%96%87%E4%BB%B6%E4%B8%8D%E5%AD%98%E5%9C%A8/</id>
    <published>2024-03-20T11:24:41.000Z</published>
    <updated>2024-03-20T11:36:49.763Z</updated>
    
    <content type="html"><![CDATA[<p>问题描述：linux系统被入侵后，之前的一个可执行文件，现在无法运行了。很奇怪<br>输入命令报错</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">No such file or directory</span><br></pre></td></tr></table></figure><p>重装一些依赖文件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install lsb-core</span><br></pre></td></tr></table></figure><p>安装后恢复正常</p><p>参考： <a href="https://www.jianshu.com/p/61f4d7385762">https://www.jianshu.com/p/61f4d7385762</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;问题描述：linux系统被入侵后，之前的一个可执行文件，现在无法运行了。很奇怪&lt;br&gt;输入命令报错&lt;/p&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>nfs</title>
    <link href="https://wangzhangyu.github.io/2024/03/18/nfs/"/>
    <id>https://wangzhangyu.github.io/2024/03/18/nfs/</id>
    <published>2024-03-18T05:38:04.000Z</published>
    <updated>2024-03-18T05:40:51.017Z</updated>
    
    <content type="html"><![CDATA[<p>NFS服务器的启动与停止</p><p>启动NFS服务器</p><p>需要启动portmap和nfs两个服务，并且portmap一定要先于nfs启动;</p><p>$service portmap start 或者 $&#x2F;etc&#x2F;init.d&#x2F;portmap start<br>$service nfs start 或者 $&#x2F;etc&#x2F;init.d&#x2F;nfs start</p><p>如果需要重新启动NFS服务，执行命令：<br>$service nfs restart<br>查看NFS服务当前的状态，执行命令:<br>$service nfs status</p><p>NFS的资源共享<br>配置&#x2F;etc&#x2F;exports文件</p><p>参考：<a href="https://blog.csdn.net/weixin_42400980/article/details/80596204">https://blog.csdn.net/weixin_42400980/article/details/80596204</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;NFS服务器的启动与停止&lt;/p&gt;
&lt;p&gt;启动NFS服务器&lt;/p&gt;
&lt;p&gt;需要启动portmap和nfs两个服务，并且portmap一定要先于nfs启动;&lt;/p&gt;
&lt;p&gt;$service portmap start 或者 $&amp;#x2F;etc&amp;#x2F;init.d&amp;#x2F</summary>
      
    
    
    
    <category term="Linux" scheme="https://wangzhangyu.github.io/categories/Linux/"/>
    
    
  </entry>
  
  <entry>
    <title>谷歌两步验证</title>
    <link href="https://wangzhangyu.github.io/2024/03/15/%E8%B0%B7%E6%AD%8C%E4%B8%A4%E6%AD%A5%E9%AA%8C%E8%AF%81/"/>
    <id>https://wangzhangyu.github.io/2024/03/15/%E8%B0%B7%E6%AD%8C%E4%B8%A4%E6%AD%A5%E9%AA%8C%E8%AF%81/</id>
    <published>2024-03-15T13:57:15.000Z</published>
    <updated>2024-03-15T14:10:13.050Z</updated>
    
    <content type="html"><![CDATA[<h1><span id="谷歌二次登录验证-安全防护">谷歌二次登录验证 – 安全防护</span></h1><p>Ubuntu<br>安装google-authenticator<br><code>sudo apt install libpam-google-authenticator</code><br>修改配置文件<br><code>echo &quot;auth required pam_google_authenticator.so&quot; &gt;&gt; /etc/pam.d/sshd</code><br><code>sed -i &#39;s/^ChallengeResponseAuthentication no/ChallengeResponseAuthentication yes/g&#39; /etc/ssh/sshd_config</code><br>重启sshd，完成配置<br><code>systemctl restart sshd</code><br>对个人用户，进入主目录下<br>执行<code> google-authenticator</code>,生成验证二维码</p><p>下载谷歌authrnticator绑定二维码</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;&lt;span id=&quot;谷歌二次登录验证-安全防护&quot;&gt;谷歌二次登录验证 – 安全防护&lt;/span&gt;&lt;/h1&gt;&lt;p&gt;Ubuntu&lt;br&gt;安装google-authenticator&lt;br&gt;&lt;code&gt;sudo apt install libpam-google-authenti</summary>
      
    
    
    
    <category term="Linux" scheme="https://wangzhangyu.github.io/categories/Linux/"/>
    
    
  </entry>
  
  <entry>
    <title>linux病毒检查</title>
    <link href="https://wangzhangyu.github.io/2024/03/15/linux%E7%97%85%E6%AF%92%E6%A3%80%E6%9F%A5/"/>
    <id>https://wangzhangyu.github.io/2024/03/15/linux%E7%97%85%E6%AF%92%E6%A3%80%E6%9F%A5/</id>
    <published>2024-03-15T02:55:35.000Z</published>
    <updated>2024-03-15T03:13:35.283Z</updated>
    
    <content type="html"><![CDATA[<ol><li>chkrootkit 轻量级软件<br>特点：检测系统命令是否正常<br>这是一个轻量级程序，这意味着它不会影响系统性能。<br>它还可以检测各种其他恶意软件和木马，如后门、TinyNDS 等。</li></ol><ul><li>安装 <code>sudo apt install chkrootkit</code></li><li>使用 <code>sudo chkrootkit</code><ul><li>not infected 表示未感染</li><li>infected 为感染</li></ul></li></ul><ol start="2"><li>clamav<br>简介：ClamAV 是一款开源防病毒软件，可检测病毒、恶意软件、特洛伊木马和其他威胁，它也免费提供，这使其成为 Linux 上最好的防病毒软件之一。<br>特点：ClamAV 具有命令行扫描程序，这意味着它可以扫描主要文件类型中的蠕虫、病毒和特洛伊木马。<br>为确保安全并保持最新状态，病毒库一天会更新多次。<br>它具有对不同存档格式的内置支持，包括 Zip、OLE2、SIS、Dmg、RAR、BinHex、Gzip、Tar、Bzip2、、Cabinet、CHM 等</li></ol><ul><li>安装 <code>sudo apt-get install clamav</code></li><li>使用  <ul><li>更新病毒库<code>freshclam </code></li><li>启动服务 <code>sudo systemctl start clamd@scan </code><br>    <code>sudo systemctl enable clamd@scan</code></li></ul></li></ul><p>参考：<br><a href="https://zhuanlan.zhihu.com/p/586992717">https://zhuanlan.zhihu.com/p/586992717</a><br><a href="https://zhuanlan.zhihu.com/p/514221945">https://zhuanlan.zhihu.com/p/514221945</a><br><a href="https://zhuanlan.zhihu.com/p/266731354">https://zhuanlan.zhihu.com/p/266731354</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;ol&gt;
&lt;li&gt;chkrootkit 轻量级软件&lt;br&gt;特点：检测系统命令是否正常&lt;br&gt;这是一个轻量级程序，这意味着它不会影响系统性能。&lt;br&gt;它还可以检测各种其他恶意软件和木马，如后门、TinyNDS 等。&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;安装 &lt;code&gt;sudo</summary>
      
    
    
    
    <category term="Linux" scheme="https://wangzhangyu.github.io/categories/Linux/"/>
    
    
  </entry>
  
  <entry>
    <title>/etc/passwd文件误删除</title>
    <link href="https://wangzhangyu.github.io/2024/03/14/passwd%E8%AF%AF%E5%88%A0%E9%99%A4/"/>
    <id>https://wangzhangyu.github.io/2024/03/14/passwd%E8%AF%AF%E5%88%A0%E9%99%A4/</id>
    <published>2024-03-14T10:30:45.000Z</published>
    <updated>2024-03-15T03:12:29.358Z</updated>
    
    <content type="html"><![CDATA[<h1><span id="x2fetcx2fpasswd文件误删除">&#x2F;etc&#x2F;passwd文件误删除</span></h1><p>不要关机重启，有备份文件。 &#x2F;etc&#x2F;passwd-<br>参考备份文件恢复</p><p>参考网址：<br><a href="https://blog.csdn.net/zheng_weichao/article/details/109264080">https://blog.csdn.net/zheng_weichao/article/details/109264080</a><br><a href="https://www.linuxprobe.com/explain-etc-passwd.html">https://www.linuxprobe.com/explain-etc-passwd.html</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;&lt;span id=&quot;x2fetcx2fpasswd文件误删除&quot;&gt;&amp;#x2F;etc&amp;#x2F;passwd文件误删除&lt;/span&gt;&lt;/h1&gt;&lt;p&gt;不要关机重启，有备份文件。 &amp;#x2F;etc&amp;#x2F;passwd-&lt;br&gt;参考备份文件恢复&lt;/p&gt;
&lt;p&gt;参考网址：&lt;b</summary>
      
    
    
    
    <category term="Linux" scheme="https://wangzhangyu.github.io/categories/Linux/"/>
    
    
  </entry>
  
  <entry>
    <title>服务器被入侵</title>
    <link href="https://wangzhangyu.github.io/2024/03/14/%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    <id>https://wangzhangyu.github.io/2024/03/14/%E6%9C%8D%E5%8A%A1%E5%99%A8/</id>
    <published>2024-03-14T04:58:31.000Z</published>
    <updated>2024-03-15T03:12:22.735Z</updated>
    
    <content type="html"><![CDATA[<p>服务器被入侵的几种端倪</p><ol><li><p>登录日志被篡改或删除<br>使用lastb，last查看日志，发现日志是空的</p></li><li><p>lsattr，chattr命令失效，一般是被黑客篡改，移动并重命名。<br>root下的免密配置无法删除<br>解决方法，下载原始的.c文件，重新编译执行</p></li></ol><p>下载chattr.c文件，<a href="https://github.com/posborne/linux-programming-interface-exercises/blob/master/15-file-attributes/chattr.c">https://github.com/posborne/linux-programming-interface-exercises/blob/master/15-file-attributes/chattr.c</a><br>编译chattr.c    <code>cc chattr.c</code> 生成a.out文件<br>重命名文件<br>参考： <a href="https://blog.csdn.net/JunyouYH/article/details/117064066">https://blog.csdn.net/JunyouYH/article/details/117064066</a></p><ol start="3"><li>top，nvidia-smi查看，CPU或者GPU被不明程序长时间占用<br>基本上是被挖矿了，可以查看定时任务看看有没有异常，crontab -l</li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;服务器被入侵的几种端倪&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;登录日志被篡改或删除&lt;br&gt;使用lastb，last查看日志，发现日志是空的&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;lsattr，chattr命令失效，一般是被黑客篡改，移动并重命名。&lt;br&gt;root下的免密配置无法删除&lt;</summary>
      
    
    
    
    <category term="Linux" scheme="https://wangzhangyu.github.io/categories/Linux/"/>
    
    
  </entry>
  
  <entry>
    <title>Tensorboard</title>
    <link href="https://wangzhangyu.github.io/2023/08/01/tensorboard/"/>
    <id>https://wangzhangyu.github.io/2023/08/01/tensorboard/</id>
    <published>2023-08-01T08:08:12.000Z</published>
    <updated>2023-08-01T08:10:43.749Z</updated>
    
    <content type="html"><![CDATA[<p>ref: <a href="https://zhuanlan.zhihu.com/p/471198169">https://zhuanlan.zhihu.com/p/471198169</a></p><h2><span id="功能">功能</span></h2><p>TensorBoard 是一组用于数据可视化的工具。它包含在流行的开源机器学习库 Tensorflow 中。TensorBoard 的主要功能包括：</p><ul><li>可视化模型的网络架构</li><li>跟踪模型指标，如损失和准确性等</li><li>检查机器学习工作流程中权重、偏差和其他组件的直方图</li><li>显示非表格数据，包括图像、文本和音频</li><li>将高维嵌入投影到低维空间</li></ul><h2><span id="安装">安装</span></h2><p>使用conda进行Python包管理。安装指令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda install tensorboard</span><br></pre></td></tr></table></figure><p>对于pytorch用户来说，还需安装TensorBoardX</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda install tensorboardx</span><br></pre></td></tr></table></figure><p>需要注意的是，TensorBoardX只是TensorBoard的一个前端，只支持记录功能，要进行可视化必须安装TensorBoard。</p><h2><span id="本地使用">本地使用</span></h2><ul><li><p>要启动 TensorBoard，打开终端或命令提示符并运行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tensorboard --logdir=&lt;directory_name&gt;</span><br></pre></td></tr></table></figure><p>将 directory_name 标记替换为保存数据的目录。 默认是“logs”。</p></li><li><p>在 Jupyter Notebooks 中使用 TensorBoard</p><blockquote><p>如果想在 Jupyter Notebooks 中使用 TensorBoard，可以使用以下命令：</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%load_ext tensorboard</span><br></pre></td></tr></table></figure><blockquote><p>运行这行代码将加载 TensorBoard并允许我们将其用于可视化。 加载扩展后，我们现在可以启动 TensorBoard：</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%tensorboard --logdir logs</span><br></pre></td></tr></table></figure></li></ul><h2><span id="远程使用">远程使用</span></h2><blockquote><p>使用远程服务器，没有浏览器也没有可视化桌面，那怎么才能使用TensorBoard呢？</p></blockquote><p>我们可以通过SSH端口转发，将远程端口映射到本地端口，命令如：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -L 16007:127.0.0.1:6007 username@serverip</span><br></pre></td></tr></table></figure><p>其中，<code>16007</code>是本地想用的端口，<code>6007</code>是远程端口（<code>TensorBoard</code>所用端口），username和serverip为用户名和服务器ip地址。<br>远程服务器中找到tensorboard所在目录并运行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tensorboard --logdir ./tensorboard --port 6007</span><br></pre></td></tr></table></figure><p>然后，打开本地浏览器，输入<code>http://127.0.0.1:16007/</code>就可以成功访问了。</p><ul><li>另一种方法<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tensorboard --logdir logs --bind_all</span><br></pre></td></tr></table></figure>–bind_all的作用是to expose to the network</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ref: &lt;a href=&quot;https://zhuanlan.zhihu.com/p/471198169&quot;&gt;https://zhuanlan.zhihu.com/p/471198169&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;&lt;span id=&quot;功能&quot;&gt;功能&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;T</summary>
      
    
    
    
    <category term="python" scheme="https://wangzhangyu.github.io/categories/python/"/>
    
    
  </entry>
  
  <entry>
    <title>数据下载</title>
    <link href="https://wangzhangyu.github.io/2023/08/01/download-web/"/>
    <id>https://wangzhangyu.github.io/2023/08/01/download-web/</id>
    <published>2023-08-01T08:03:15.000Z</published>
    <updated>2023-08-03T03:04:55.958Z</updated>
    
    <content type="html"><![CDATA[<ul><li><p>ustc 地震学算法与程序<br><a href="https://seismo.training.ustc.edu.cn/programme/list.htm">https://seismo.training.ustc.edu.cn/programme/list.htm</a></p></li><li><p>Ubuntu系统<br>  Ubuntu下载链接：<a href="http://releases.ubuntu.com/">http://releases.ubuntu.com/</a><br>  旧版下载链接：<a href="http://old-releases.ubuntu.com/releases/">http://old-releases.ubuntu.com/releases/</a></p></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;ustc 地震学算法与程序&lt;br&gt;&lt;a href=&quot;https://seismo.training.ustc.edu.cn/programme/list.htm&quot;&gt;https://seismo.training.ustc.edu.cn/programme/</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>Hexon -- 管理hexo的GUI工具</title>
    <link href="https://wangzhangyu.github.io/2023/07/30/test/"/>
    <id>https://wangzhangyu.github.io/2023/07/30/test/</id>
    <published>2023-07-30T07:51:03.505Z</published>
    <updated>2023-08-01T07:33:23.522Z</updated>
    
    <content type="html"><![CDATA[<p>Hexon is a GUI for hexo with git, run commands and manage content for you.</p><p>下载链接：<a href="https://github.com/gethexon/hexon">https://github.com/gethexon/hexon</a></p><ul><li>界面清爽</li><li>可移植</li><li>部署迅速<br><img src="/2023/07/30/test/iShot_2023-07-30_15.57.26.png"></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Hexon is a GUI for hexo with git, run commands and manage content for you.&lt;/p&gt;
&lt;p&gt;下载链接：&lt;a href=&quot;https://github.com/gethexon/hexon&quot;&gt;https:</summary>
      
    
    
    
    <category term="博客搭建" scheme="https://wangzhangyu.github.io/categories/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/"/>
    
    
    <category term="blog" scheme="https://wangzhangyu.github.io/tags/blog/"/>
    
  </entry>
  
  <entry>
    <title>scp传输文件如何设置nohup后台运行？</title>
    <link href="https://wangzhangyu.github.io/2023/07/29/scp/"/>
    <id>https://wangzhangyu.github.io/2023/07/29/scp/</id>
    <published>2023-07-29T05:51:36.000Z</published>
    <updated>2023-07-29T06:10:07.312Z</updated>
    
    <content type="html"><![CDATA[<h1><span id="已经配置了ssh免密登录">已经配置了ssh免密登录</span></h1><p>ssh免密登录，scp也是免密的<br>用scp传输文件时可以直接在命令前加<code>nohup</code>，命令后加<code>&amp;</code><br><code>nohup scp -r *** host:ip &amp;</code></p><h1><span id="未配置免密登录">未配置免密登录</span></h1><blockquote><p>Linux后台任务管理 ：jobs、fg、bg、kill、ps、nohup、disown、&amp;<br> CTRL + C ：终止程序运行<br> CTRL + Z ：程序暂停运行</p></blockquote><ol><li><p>正常运行命令： </p><ul><li>可以是scp，也可以是其他任何需要执行的命令</li><li><code>scp -r *** host:ip</code></li><li>此时程序的执行状态是在台前</li></ul></li><li><p>暂停任务</p><ul><li>键盘输入CTRL + Z，暂停任务</li></ul></li><li><p>查看jobs</p><ul><li>jobs</li></ul></li><li><p>bg将其放入后台</p><ul><li><code>bg %1</code></li></ul></li><li><p>disown -h </p><ul><li>忽略任务的HUP信号</li><li><code>disown -h %1</code></li></ul></li><li><p>检查</p><ul><li>关闭session，新建会话</li><li>ps -ef|grep scp</li></ul></li></ol><p>参考<a href="https://www.cnblogs.com/jyzhao/p/6253728.html">link1</a>,<a href="https://zhuanlan.zhihu.com/p/446891442">link2</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;&lt;span id=&quot;已经配置了ssh免密登录&quot;&gt;已经配置了ssh免密登录&lt;/span&gt;&lt;/h1&gt;&lt;p&gt;ssh免密登录，scp也是免密的&lt;br&gt;用scp传输文件时可以直接在命令前加&lt;code&gt;nohup&lt;/code&gt;，命令后加&lt;code&gt;&amp;amp;&lt;/code&gt;&lt;br&gt;&lt;c</summary>
      
    
    
    
    <category term="Linux" scheme="https://wangzhangyu.github.io/categories/Linux/"/>
    
    
  </entry>
  
  <entry>
    <title>macbook的一些配置和实用插件</title>
    <link href="https://wangzhangyu.github.io/2023/07/28/macbook-plug/"/>
    <id>https://wangzhangyu.github.io/2023/07/28/macbook-plug/</id>
    <published>2023-07-28T10:00:50.360Z</published>
    <updated>2023-11-09T07:18:21.916Z</updated>
    
    <content type="html"><![CDATA[<!-- toc --><ul><li><a href="#%E9%BC%A0%E6%A0%87%E6%8F%92%E4%BB%B6">鼠标插件</a></li><li><a href="#%E6%96%87%E7%8C%AE%E7%AE%A1%E7%90%86">文献管理</a></li><li><a href="#%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD">文件下载</a></li><li><a href="#%E6%96%B0%E5%BB%BA%E6%96%87%E4%BB%B6">新建文件</a></li><li><a href="#%E8%A7%A3%E5%8E%8B%E6%96%87%E4%BB%B6">解压文件</a></li><li><a href="#%E8%BD%AF%E4%BB%B6%E5%8D%B8%E8%BD%BD">软件卸载</a></li><li><a href="#%E5%88%86%E5%B1%8F%E8%BD%AF%E4%BB%B6">分屏软件</a></li><li><a href="#%E5%A5%BD%E7%94%A8%E7%9A%84%E7%BB%88%E7%AB%AF%E8%BD%AF%E4%BB%B6">好用的终端软件</a></li><li><a href="#ssh-%E5%85%8D%E5%AF%86%E7%99%BB%E5%BD%95%E9%85%8D%E7%BD%AE">ssh 免密登录配置</a></li><li><a href="#%E5%A4%9A%E8%AE%BE%E5%A4%87%E5%90%8C%E6%AD%A5">多设备同步</a></li><li><a href="#%E5%86%99markdown">写markdown</a></li><li><a href="#%E7%A0%81%E4%BB%A3%E7%A0%81">码代码</a></li><li><a href="#%E8%A7%A6%E5%8F%91%E8%A7%92%E8%AE%BE%E7%BD%AE">触发角设置</a></li><li><a href="#%E7%94%B5%E6%BA%90">电源</a></li><li><a href="#%E5%85%B6%E4%BB%96">其他</a></li></ul><!-- tocstop --><h1><span id="鼠标插件">鼠标插件</span></h1><p>mac鼠标与windows的鼠标滑动指令相反，可用一些插件来帮助实现windows模式</p><ul><li><code>mos</code></li><li><code>mac mouse fix</code></li></ul><h1><span id="文献管理">文献管理</span></h1><p>Zotero+webdav</p><ul><li><code>Zotero</code> </li><li><code>Teracloud</code> （日本，墙内）</li></ul><h1><span id="文件下载">文件下载</span></h1><ul><li>qBittorrent 简单易用的跨平台BT，PT客户端</li></ul><h1><span id="新建文件">新建文件</span></h1><p>mac没有新建文件的命令，可以使用第三方插件来完成</p><ul><li><code>超级右键lite</code> 永久免费版本: 可以右键新建word文档</li></ul><h1><span id="解压文件">解压文件</span></h1><p>Mac上好用的解压软件</p><ul><li><code>The Unarchiver</code></li></ul><h1><span id="软件卸载">软件卸载</span></h1><p>听说这一款挺有效果，但是测试仍然有残留。</p><p>比如之前装了罗技的鼠标管理软件<code>Logitech Options</code>，但是可能软件的适配有问题，导致CPU占用过大。我用<code>Appcleaner</code>卸载这个软件，但是发现配置文件仍然存在。</p><ul><li><code>Appcleaner</code>：彻底清除app及其残留文件</li></ul><h1><span id="分屏软件">分屏软件</span></h1><ul><li><code>Rectangle</code>：拖拽窗口自动分屏</li></ul><h1><span id="好用的终端软件">好用的终端软件</span></h1><ul><li><code>iterm</code></li></ul><h1><span id="ssh-免密登录配置">ssh 免密登录配置</span></h1><p>参考<a href="https://blog.csdn.net/lxyoucan/article/details/112527301">link</a></p><ul><li>ssh-keygen -t rsa</li><li>chmod 600 ~&#x2F;.ssh&#x2F;id_rsa.pub</li><li>ssh-copy-id <a href="mailto:&#117;&#115;&#x65;&#114;&#64;&#x69;&#112;&#46;&#99;&#111;&#109;">&#117;&#115;&#x65;&#114;&#64;&#x69;&#112;&#46;&#99;&#111;&#109;</a></li><li>touch ~&#x2F;.ssh&#x2F;config<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#自定义主机名称，写上好记的就行了。</span></span><br><span class="line">Host goodjob</span><br><span class="line"><span class="comment">#SSH连接的地址，IP或者是域名</span></span><br><span class="line">HostName ip.cn</span><br><span class="line"><span class="comment">#SSH远程登录的名称</span></span><br><span class="line">User user</span><br><span class="line"><span class="comment">#SSH的端口默认是22</span></span><br><span class="line">Port 22</span><br><span class="line"><span class="comment">#指向私钥的位置,这里写你自己的地址。</span></span><br><span class="line">IdentityFile ~/.ssh/id_rsa</span><br></pre></td></tr></table></figure></li></ul><h1><span id="多设备同步">多设备同步</span></h1><ul><li><code>坚果云</code></li></ul><h1><span id="写markdown">写markdown</span></h1><ul><li><code>Typora</code></li></ul><h1><span id="码代码">码代码</span></h1><ul><li><code>VS code</code></li><li><code>Sublime Text</code></li></ul><h1><span id="触发角设置">触发角设置</span></h1><p>只设置右下角为触发角，当鼠标滑到右下角，触发返回桌面。</p><h1><span id="电源">电源</span></h1><p>macbook使用快一年了，电池健康度剩下93%。这和使用习惯有关，平时大部分时间插着电源使用让电池一直保持满电状态是不好的。<br>锂电池的电池容量维持在30%～80%对电池健康最好，平时不需要充满电。</p><ul><li><code>Aldente</code> 当电池电量达到设定的限值时关闭充电，当电量低于设定的限值时，启动充电。</li></ul><h1><span id="其他">其他</span></h1><ul><li><code>grammarly</code>: 语法改错</li><li><code>blackhole</code>: 录制屏幕的时候可以录制电脑自己输出的声音</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;!-- toc --&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#%E9%BC%A0%E6%A0%87%E6%8F%92%E4%BB%B6&quot;&gt;鼠标插件&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#%E6%96%87%E7%8C%AE%E7%AE%A1%E7%90%86&quot;&gt;文献管</summary>
      
    
    
    
    <category term="macbook" scheme="https://wangzhangyu.github.io/categories/macbook/"/>
    
    
  </entry>
  
  <entry>
    <title>云服务器搭建个人网站</title>
    <link href="https://wangzhangyu.github.io/2023/07/25/%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E7%BD%91%E7%AB%99/"/>
    <id>https://wangzhangyu.github.io/2023/07/25/%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E7%BD%91%E7%AB%99/</id>
    <published>2023-07-25T08:29:10.000Z</published>
    <updated>2023-08-01T08:03:50.480Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>个人服务器建网站流程<br>一时兴起搭建个人网页，记录一下整个流程…</p></blockquote><ol><li>购买云服务器：</li></ol><ul><li>腾讯云 CPU: 2核 内存: 2GB</li><li>价格：首年有优惠<br><img src="/2023/07/25/%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E7%BD%91%E7%AB%99/iShot_2023-07-25_16.38.02.png"></li></ul><ol start="2"><li>安装wordpress</li></ol><ul><li>系统：Linux Ubuntu 20.04 LTS</li><li>网站架构：Apache2 + Php + MySQL + WordPress (6.0.2)</li><li>腾讯云服务器提供极速建站，可选–“应用镜像”-&gt;“Wordpress”,非常方便<br>但我还是选择从零开始安装，可以参考<a href="https://zhuanlan.zhihu.com/p/270230445">https://zhuanlan.zhihu.com/p/270230445</a><br><img src="/2023/07/25/%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E7%BD%91%E7%AB%99/iShot_2023-07-25_17.12.37.png"></li></ul><ol start="3"><li>购买域名</li></ol><ul><li>腾讯云域名申请</li></ul><ol start="4"><li><p>域名备案</p></li><li><p>域名解析</p></li><li><p>绑定域名和云服务器公网IP</p></li></ol><blockquote><p>使用了快一年，续费云主机挺贵的，一年要500多。</p></blockquote><p><img src="/2023/07/25/%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E7%BD%91%E7%AB%99/iShot_2023-07-28_18.31.20.png"></p><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;个人服务器建网站流程&lt;br&gt;一时兴起搭建个人网页，记录一下整个流程…&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;购买云服务器：&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;腾讯云 CPU: 2核 内存: 2GB&lt;/li&gt;
&lt;li&gt;价格：首年</summary>
      
    
    
    
    <category term="博客搭建" scheme="https://wangzhangyu.github.io/categories/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/"/>
    
    
    <category term="blog" scheme="https://wangzhangyu.github.io/tags/blog/"/>
    
  </entry>
  
  <entry>
    <title>gitalk 第三方评论</title>
    <link href="https://wangzhangyu.github.io/2023/07/20/gitalk/"/>
    <id>https://wangzhangyu.github.io/2023/07/20/gitalk/</id>
    <published>2023-07-20T11:42:20.000Z</published>
    <updated>2023-07-28T11:29:42.168Z</updated>
    
    <content type="html"><![CDATA[<h2><span id="使用gitalk的常见问题">使用Gitalk的常见问题</span></h2><ul><li><p>问题： 未找到相关的 Issues 进行评论，请联系@作者初始化创建</p><blockquote><p>打开文章页面登录作者github账号</p></blockquote></li><li><p>问题： 403错误或network错误</p><blockquote><p>代理失效</p></blockquote></li></ul><p>原因是：主题模版中的cors-anywhere反向代理已不支持直接使用，Gitalk的默认proxy为</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Default: https://cors-anywhere.herokuapp.com/https://github.com/login/oauth/access_token.</span><br></pre></td></tr></table></figure><p><a href="https://dash.cloudflare.com/">cloudflare</a></p><p>参考文章： <a href="https://blog.csdn.net/nocodeis/article/details/117826704">https://blog.csdn.net/nocodeis/article/details/117826704</a></p><h2><span id="借用某位博客的代理">借用某位博客的代理</span></h2><p>使用<a href="https://blog.csdn.net/nocodeis/article/details/117826704">文章中的方法</a>构建的代理仍然报错<code>network error</code>, 应该还是代理没有设置好。</p><p>没有办法只能借用别的代理设置了，方法不是很可取，但可以临时用用。参考下边的方式</p><p><img src="/2023/07/20/gitalk/iShot_2023-07-21_13.55.30.png"></p><ul><li>找到一个集成了Gitalk的博客</li><li>打开浏览器的开发者模式</li><li>选择network项，在filter中输入access</li><li>此时在博客的评论区中登录自己的Github账号<ul><li>在Request URL栏中，选择带有<code>https://github.com/login/oauth/access_token</code>的地址，这串拼接出来的地址就是代理地址，可以直接加入到proxy中</li></ul></li></ul><p>现在评论功能就正常了。</p><p>ref：<br><a href="https://github.com/ppoffice/hexo-theme-icarus/issues/478">https://github.com/ppoffice/hexo-theme-icarus/issues/478</a><br><a href="https://juejin.cn/post/6956892118363144229">https://juejin.cn/post/6956892118363144229</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2&gt;&lt;span id=&quot;使用gitalk的常见问题&quot;&gt;使用Gitalk的常见问题&lt;/span&gt;&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;问题： 未找到相关的 Issues 进行评论，请联系@作者初始化创建&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;打开文章页面登录作者github账号&lt;</summary>
      
    
    
    
    <category term="博客搭建" scheme="https://wangzhangyu.github.io/categories/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/"/>
    
    
  </entry>
  
  <entry>
    <title>Hexo添加插件</title>
    <link href="https://wangzhangyu.github.io/2023/07/20/comment/"/>
    <id>https://wangzhangyu.github.io/2023/07/20/comment/</id>
    <published>2023-07-20T09:36:23.000Z</published>
    <updated>2023-07-28T11:35:48.225Z</updated>
    
    <content type="html"><![CDATA[<ul><li><input checked disabled type="checkbox"> 添加评论<ul><li><a href="https://wangzhangyu.github.io/2023/07/20/gitalk/">https://wangzhangyu.github.io/2023/07/20/gitalk/</a></li></ul></li><li><input disabled type="checkbox"> 添加相册<ul><li><a href="https://blog.csdn.net/weixin_43347550/article/details/120191200">https://blog.csdn.net/weixin_43347550/article/details/120191200</a></li></ul></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;ul&gt;
&lt;li&gt;&lt;input checked disabled type=&quot;checkbox&quot;&gt; 添加评论&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://wangzhangyu.github.io/2023/07/20/gitalk/&quot;&gt;https://wangzhangy</summary>
      
    
    
    
    <category term="博客搭建" scheme="https://wangzhangyu.github.io/categories/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/"/>
    
    
    <category term="blog" scheme="https://wangzhangyu.github.io/tags/blog/"/>
    
  </entry>
  
  <entry>
    <title>Hexo博客主题</title>
    <link href="https://wangzhangyu.github.io/2023/07/19/hexo%E5%8D%9A%E5%AE%A2%E4%B8%BB%E9%A2%98/"/>
    <id>https://wangzhangyu.github.io/2023/07/19/hexo%E5%8D%9A%E5%AE%A2%E4%B8%BB%E9%A2%98/</id>
    <published>2023-07-19T05:19:19.691Z</published>
    <updated>2024-03-15T14:07:02.616Z</updated>
    
    <content type="html"><![CDATA[<h1><span id="博客主题-hexo-theme-pure">博客主题 hexo-theme-pure</span></h1><p>下载链接 <a href="https://github.com/cofess/hexo-theme-pure">https://github.com/cofess/hexo-theme-pure</a></p><h1><span id="hexo个人博客部署到github">Hexo个人博客部署到Github</span></h1><p><a href="https://mizeri.github.io/2021/04/18/Hexo-blog-deploy/">参考</a></p><p>git, hexo and Node.js</p><p>写作搭档</p><blockquote><p>hexo+hexon+typora</p></blockquote><p><a href="https://github.com/gethexon/hexon/">hexon</a>管理博客的开源代码</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;&lt;span id=&quot;博客主题-hexo-theme-pure&quot;&gt;博客主题 hexo-theme-pure&lt;/span&gt;&lt;/h1&gt;&lt;p&gt;下载链接 &lt;a href=&quot;https://github.com/cofess/hexo-theme-pure&quot;&gt;https://gith</summary>
      
    
    
    
    <category term="Linux" scheme="https://wangzhangyu.github.io/categories/Linux/"/>
    
    
    <category term="blog" scheme="https://wangzhangyu.github.io/tags/blog/"/>
    
  </entry>
  
  <entry>
    <title>Markdown语法</title>
    <link href="https://wangzhangyu.github.io/2023/07/19/Markdown%E8%AF%AD%E6%B3%95/"/>
    <id>https://wangzhangyu.github.io/2023/07/19/Markdown%E8%AF%AD%E6%B3%95/</id>
    <published>2023-07-18T17:41:30.743Z</published>
    <updated>2023-07-28T11:11:41.656Z</updated>
    
    <content type="html"><![CDATA[<!-- toc --><ul><li><a href="#%E8%87%AA%E5%8A%A8%E7%94%9F%E6%88%90%E7%9B%AE%E5%BD%95">自动生成目录</a></li><li><a href="#%E7%94%98%E7%89%B9%E5%9B%BE">甘特图</a></li></ul><!-- tocstop --><h1><span id="自动生成目录">自动生成目录</span></h1><ul><li>CSDN中<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@[TOC](linux网络配置 )</span><br></pre></td></tr></table></figure></li><li>hexo 中<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- toc --&gt;</span><br></pre></td></tr></table></figure></li></ul><h1><span id="甘特图">甘特图</span></h1>]]></content>
    
    
      
      
    <summary type="html">&lt;!-- toc --&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#%E8%87%AA%E5%8A%A8%E7%94%9F%E6%88%90%E7%9B%AE%E5%BD%95&quot;&gt;自动生成目录&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#%E7%94%98%E7%89%B9%E5</summary>
      
    
    
    
    <category term="博客搭建" scheme="https://wangzhangyu.github.io/categories/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/"/>
    
    
    <category term="markdown" scheme="https://wangzhangyu.github.io/tags/markdown/"/>
    
  </entry>
  
  <entry>
    <title>Linux服务器运维</title>
    <link href="https://wangzhangyu.github.io/2023/07/19/Linux%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%BF%90%E7%BB%B4/"/>
    <id>https://wangzhangyu.github.io/2023/07/19/Linux%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%BF%90%E7%BB%B4/</id>
    <published>2023-07-18T17:09:50.000Z</published>
    <updated>2023-07-27T17:09:52.000Z</updated>
    
    <content type="html"><![CDATA[<!-- toc --><ul><li><a href="#%E6%96%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%83%A8%E7%BD%B2">新服务器部署</a></li><li><a href="#%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AF">服务器基本信息</a></li><li><a href="#dell%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%BC%80%E6%9C%BA%E6%8C%82%E8%BD%BD">dell服务器开机挂载</a></li><li><a href="#%E5%85%B3%E6%9C%BA%E4%B8%8E%E9%87%8D%E5%90%AF">关机与重启</a></li><li><a href="#%E4%BF%AE%E6%94%B9root%E5%AF%86%E7%A0%81">修改root密码</a></li><li><a href="#node100-%E9%9B%86%E7%BE%A4%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%BC%80%E5%85%B3%E6%9C%BA">node100 集群服务器开关机：</a><ul><li><a href="#%E5%BC%80%E6%9C%BA%E9%A1%BA%E5%BA%8F">开机顺序：</a></li><li><a href="#%E5%85%B3%E6%9C%BA%E9%A1%BA%E5%BA%8F%E5%80%92%E7%9D%80%E6%9D%A5">关机顺序：（倒着来）</a></li></ul></li><li><a href="#%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%AE%89%E5%85%A8">服务器安全</a></li><li><a href="#tomoplus%E5%9B%BE%E5%83%8F%E6%98%BE%E7%A4%BA%E9%97%AE%E9%A2%98">tomoplus图像显示问题</a></li><li><a href="#tomoplus-license%E9%97%AE%E9%A2%98">tomoplus license问题</a></li><li><a href="#%E5%88%9B%E5%BB%BA%E8%B4%A6%E6%88%B7">创建账户</a></li><li><a href="#%E6%9B%B4%E6%94%B9%E6%96%87%E4%BB%B6%E5%A4%B9%E6%89%80%E6%9C%89%E8%80%85-%E6%9B%B4%E6%94%B9%E7%BB%84">更改文件夹所有者、更改组</a></li><li><a href="#ssh%E9%97%AE%E9%A2%98">ssh问题</a></li><li><a href="#gpu-%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%98%BE%E5%AD%98%E5%8D%A0%E7%94%A8%E4%BD%86%E6%98%AF%E6%89%BE%E4%B8%8D%E5%88%B0pid">GPU: 服务器显存占用但是找不到pid</a></li><li><a href="#gpu-nvidia-smi">GPU nvidia-smi</a></li><li><a href="#tmp-%E7%A9%BA%E9%97%B4%E4%B8%8D%E8%B6%B3">tmp 空间不足</a></li><li><a href="#ubuntu-%E7%94%A8%E6%88%B7%E6%97%A0%E6%B3%95%E8%87%AA%E5%8A%A8%E5%8A%A0%E8%BD%BD-bashrc%E7%9A%84%E9%97%AE%E9%A2%98">Ubuntu: 用户无法自动加载 .bashrc的问题</a></li><li><a href="#%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%8D%A2ip">服务器换ip</a></li><li><a href="#a-id%E5%AD%A6%E4%B9%A0%E9%93%BE%E6%8E%A5%E5%AD%A6%E4%B9%A0%E9%93%BE%E6%8E%A5a"><a id="学习链接">学习链接</a></a></li></ul><!-- tocstop --><hr><pre class="mermaid">gantt        dateFormat  YYYY-MM-DD        title 服务器购买        section 现有服务器        tomo 01 :done,    des1, 2015-01-06,2020-12-04        tomo 02 :done,    des2, 2015-01-06,2020-12-04        tomo 03  :    des3, 2015-01-06,2022-12-04        amax      :  des4, 2019-01-06,2022-12-04        node100  :         des5,2019-01-06,2022-12-04        dell        :          des6,2020-01-06,2022-12-04</pre><h2><span id="新服务器部署">新服务器部署</span></h2><ul><li>若采购新服务器，需要对home做单独分区，安装磁盘限额（可限制5G）。避免no sapce出现</li><li></li></ul><h2><span id="服务器基本信息">服务器基本信息</span></h2><p>密码更新日期：2022&#x2F;12&#x2F;4</p><table><thead><tr><th>服务器</th><th>IP</th><th>root密码</th><th>用途</th><th>属性</th></tr></thead><tbody><tr><td>dell</td><td>*******</td><td>*******</td><td>GPU</td><td>4块A100(40G左右显存)</td></tr><tr><td>amax</td><td>*******</td><td>*******</td><td>GPU</td><td>8块 GeForce GTX 1080（11G左右显存）</td></tr><tr><td>node100</td><td>*******</td><td>*******</td><td>CPU</td><td>8个计算节点</td></tr><tr><td>tomo 03</td><td>*******</td><td>*******</td><td>CPU</td><td>服务器</td></tr></tbody></table><h2><span id="dell服务器开机挂载">dell服务器开机挂载</span></h2><p>data2挂载在amax上，dell服务器通过访问amax来共享data2的数据。所以dell服务器正常使用的前提是amax正常。dell服务器每次开机需要重新挂载data2，挂载命令<br>A100挂载data3(node100服务器的存储)和data2</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mount -t nfs ***.***.***.***:/public/home  /data3</span><br><span class="line">mount -t nfs ***.***.***.***:/data2 /data2/</span><br></pre></td></tr></table></figure><p>***分别是node100的IP，amax的IP<br>Amax挂载A100上的文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mount -t nfs ***.***.***.***:/mnt/SCQR_data1  /mnt/SCQR_data1</span><br></pre></td></tr></table></figure><p>***为dell的IP<br>或者修改&#x2F;etc&#x2F;fstab</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">(base) wangzy@dell:~$ <span class="built_in">cat</span> /etc/fstab</span><br><span class="line"><span class="comment"># /etc/fstab: static file system information.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Use &#x27;blkid&#x27; to print the universally unique identifier for a</span></span><br><span class="line"><span class="comment"># device; this may be used with UUID= as a more robust way to name devices</span></span><br><span class="line"><span class="comment"># that works even if disks are added and removed. See fstab(5).</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># &lt;file system&gt; &lt;mount point&gt;   &lt;type&gt;  &lt;options&gt;       &lt;dump&gt;  &lt;pass&gt;</span></span><br><span class="line"><span class="comment"># / was on /dev/sda3 during installation</span></span><br><span class="line">UUID=6df9bb4a-766b-4ab1-92da-bad6179f800a /               ext4    errors=remount-ro 0       1</span><br><span class="line"><span class="comment"># /boot/efi was on /dev/sda1 during installation</span></span><br><span class="line">UUID=184B-1142  /boot/efi       vfat    <span class="built_in">umask</span>=0077      0       1</span><br><span class="line"><span class="comment"># swap was on /dev/sda2 during installation</span></span><br><span class="line">UUID=2e147d59-66aa-491e-a878-1e77aed61cce none            swap    sw              0       0</span><br><span class="line">192.168.0.3:/data2   /data2                                nfs     defaults      1  1</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>如果共享磁盘没有挂载，执行<code>/etc/rc.local</code><br><a href="https://blog.csdn.net/ws_kfxd/article/details/110088503">link</a></p><h2><span id="关机与重启">关机与重启</span></h2><p>关机 poweroff, shutdown -h +1<br>重启 reboot, shutdown -r +1<br>对于集群服务器，可能需要同步 clusconf –sync-do &#x2F;etc&#x2F;rc.local</p><h2><span id="修改root密码">修改root密码</span></h2><ol><li>passwd root(直接登录root修改)</li><li>sudo passwd（利用sudo账户修改）</li><li>忘记密码（重启服务器，单用户模式修改）：<ul><li><a href="https://cloud.tencent.com/developer/article/1843568">https://cloud.tencent.com/developer/article/1843568</a></li><li><a href="http://m.blog.chinaunix.net/ui-21209618-id-4738916.html">http://m.blog.chinaunix.net/ui-21209618-id-4738916.html</a></li></ul></li></ol><h2><span id="node100-集群服务器开关机">node100 集群服务器开关机：</span></h2><h3><span id="开机顺序">开机顺序：</span></h3><p>1.IB交换机（一般不用管）<br>2.网络交换机（一般不用管）<br>3.存储服务器<br>4.管理节点<br>5.计算节点</p><h3><span id="关机顺序倒着来">关机顺序：（倒着来）</span></h3><p>1.计算节点<br>2.管理节点<br>3.存储服务器<br>4.网络交换机（一般不用管）<br>5.IB交换机（一般不用管）</p><h2><span id="服务器安全">服务器安全</span></h2><p>fail2ban<br>安装fail2ban  <code>sudo apt install fail2ban</code><br>设置fail2ban配置策略<code>sudo vi /etc/fail2ban/jail.local</code><br>检查 Jails状况：<code>sudo fail2ban-client status sshd</code><br>封禁IP:<code>sudo fail2ban-client set sshd banip 23.34.45.56</code><br>解禁的IP:<code>sudo fail2ban-client set sshd unbanip 23.34.45.56</code><br>重启服务 <code>sudo systemctl restart fail2ban</code><br>停止服务 <code>sudo systemctl stop fail2ban</code></p><h2><span id="tomoplus图像显示问题">tomoplus图像显示问题</span></h2><p>ssh 连接是加X或Y<br><code>ssh -Y node1</code><br><code>ssh -X node1</code><br>运行xterm查看是否有图形界面弹出，如果没有，说明本次连接的shell不能显示图像</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[wangzy@node100 ~]$ xterm &amp;</span><br></pre></td></tr></table></figure><p>解决方法：一般重启终端（如：重启Mobaxterm）</p><h2><span id="tomoplus-license问题">tomoplus license问题</span></h2><p>tomoplus激活不需要root，任何普通账户都已运行下边的激活操作<br>选择当年的Tomoplus版本*2022.lic</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[wangzy@node100 ~]$ <span class="built_in">cd</span> ~</span><br><span class="line">[wangzy@node100 ~]$ <span class="built_in">cat</span> .flexlmrc</span><br><span class="line">GEOTOMO_LICENSE_FILE=/public/software/Geotomo_all_versions/GeoTomo64_v63_Auto/GeoTomo64jre18/TomoPlus/Tomo3D/../../license:/public/software/Geotomo_all_versions/GeoTomo64_v63_Auto/GeoTomo64/license</span><br><span class="line">[wangzy@node100 ~]$ <span class="built_in">cd</span> /public/software/Geotomo_all_versions/GeoTomo64_v63_Auto/GeoTomo64jre18/TomoPlus/Tomo3D/../../license</span><br><span class="line">[wangzy@node100 license]$ <span class="built_in">ls</span></span><br><span class="line">geotomo      license.v11.10  lmdown  lmreread  lmutil      tomoplus_6pt3_vecon_4pt5_velmap_geothrust_4pt1_linux_USTC_node100_e8611f3264f8_31dec2021.lic</span><br><span class="line">license.old  lmdiag          lmgrd   lmstat    README.txt  tomoplus_6pt4_vecon_4pt5_velmap_geothrust_4pt1_linux_USTC_node100_e8611f3264f8_31dec2022.lic</span><br><span class="line">[wangzy@node100 license]$ ./lmgrd -c tomoplus_6pt4_vecon_4pt5_velmap_geothrust_4pt1_linux_USTC_node100_e8611f3264f8_31dec2022.lic</span><br><span class="line"></span><br></pre></td></tr></table></figure><ol><li>如果仍有问题，先关闭tomoplus守护进程，重新激活<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[wangzy@node100 license]$ ./lmdown -c tomoplus_6pt4_vecon_4pt5_velmap_geothrust_4pt1_linux_USTC_node100_e8611f3264f8_31dec2022.lic</span><br><span class="line">[wangzy@node100 license]$ ./lmgrd -c tomoplus_6pt4_vecon_4pt5_velmap_geothrust_4pt1_linux_USTC_node100_e8611f3264f8_31dec2022.lic</span><br></pre></td></tr></table></figure></li><li>如果重启不成功，遇到 Permission denied的情况，直接删掉文件&#x2F;var&#x2F;tmp&#x2F;lockgeotomo</li></ol><h2><span id="创建账户">创建账户</span></h2><ul><li>单节点服务器：dell, amax, tomo 03 <ul><li>adduser XXX（创建用户）</li><li>userdel XXX</li></ul></li><li>集群服务器： node100<ul><li>clusconf -au XXX（创建用户）</li><li>clusconf  -du XXX (删除用户)</li></ul></li></ul><h2><span id="更改文件夹所有者-更改组">更改文件夹所有者、更改组</span></h2><p>更改文件夹所有者 chown wangzy –R wangzy&#x2F;<br>更改文件夹所有组 chgrp users –R wangzy</p><h2><span id="ssh问题">ssh问题</span></h2><p>查看一下home目录下有没有 .ssh 文件夹， 用 ls -al查看    (注：linux系统中以“.”开头的是隐藏文件)<br>如果没有，就自己建立一个 ： mkdir  .ssh<br>cd然后进入 .ssh，依次运行：<br>1   ssh-keygen  （命令后一直敲空格就行, 会生成几个文件）<br>2   cat id_dsa.pub &gt;&gt; authorized_keys<br>3   退出.ssh 至你的home， 运行  chmod -R 755 .ssh<br>4   进入.ssh， chmod 600 *</p><p>常见的权限表示形式:<br>    -rw——- (600)   只有拥有者有读写权限。<br>    -rw-r–r– (644)   只有拥有者有读写权限；而属组用户和其他用户只有读权限。<br>    -rwx—— (700)   只有拥有者有读、写、执行权限。<br>    -rwxr-xr-x (755)   拥有者有读、写、执行权限；而属组用户和其他用户只有读、执行权限。<br>    -rwx–x–x (711)   拥有者有读、写、执行权限；而属组用户和其他用户只有执行权限。<br>    -rw-rw-rw- (666)   所有用户都有文件读、写权限。<br>    -rwxrwxrwx (777)   所有用户都有读、写、执行权限。</p><p>service sshd restart</p><h2><span id="gpu-服务器显存占用但是找不到pid">GPU: 服务器显存占用但是找不到pid</span></h2><p>fuser -v &#x2F;dev&#x2F;nvidia*<br>fuser -k &#x2F;dev&#x2F;nvidia*</p><p>Sudo 账户下操作</p><h2><span id="gpu-nvidia-smi">GPU nvidia-smi</span></h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">(base) wangzy@dell:~$ nvidia-smi</span><br><span class="line">Tue Dec  6 15:40:01 2022</span><br><span class="line">+-----------------------------------------------------------------------------+</span><br><span class="line">| NVIDIA-SMI 515.86.01    Driver Version: 515.86.01    CUDA Version: 11.7     |</span><br><span class="line">|-------------------------------+----------------------+----------------------+</span><br><span class="line">| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |</span><br><span class="line">| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |</span><br><span class="line">|                               |                      |               MIG M. |</span><br><span class="line">|===============================+======================+======================|</span><br><span class="line">|   0  NVIDIA A100-PCI...  Off  | 00000000:17:00.0 Off |                    0 |</span><br><span class="line">| N/A   34C    P0    34W / 250W |      4MiB / 40960MiB |      0%      Default |</span><br><span class="line">|                               |                      |             Disabled |</span><br><span class="line">+-------------------------------+----------------------+----------------------+</span><br><span class="line">|   1  NVIDIA A100-PCI...  Off  | 00000000:65:00.0 Off |                    0 |</span><br><span class="line">| N/A   34C    P0    33W / 250W |      4MiB / 40960MiB |      0%      Default |</span><br><span class="line">|                               |                      |             Disabled |</span><br><span class="line">+-------------------------------+----------------------+----------------------+</span><br><span class="line">|   2  NVIDIA A100-PCI...  Off  | 00000000:CA:00.0 Off |                    0 |</span><br><span class="line">| N/A   35C    P0    38W / 250W |      4MiB / 40960MiB |      0%      Default |</span><br><span class="line">|                               |                      |             Disabled |</span><br><span class="line">+-------------------------------+----------------------+----------------------+</span><br><span class="line">|   3  NVIDIA A100-PCI...  Off  | 00000000:E3:00.0 Off |                    0 |</span><br><span class="line">| N/A   34C    P0    35W / 250W |      4MiB / 40960MiB |      0%      Default |</span><br><span class="line">|                               |                      |             Disabled |</span><br><span class="line">+-------------------------------+----------------------+----------------------+</span><br><span class="line"></span><br><span class="line">+-----------------------------------------------------------------------------+</span><br><span class="line">| Processes:                                                                  |</span><br><span class="line">|  GPU   GI   CI        PID   Type   Process name                  GPU Memory |</span><br><span class="line">|        ID   ID                                                   Usage      |</span><br><span class="line">|=============================================================================|</span><br><span class="line">|    0   N/A  N/A      3413      G   /usr/lib/xorg/Xorg                  4MiB |</span><br><span class="line">|    1   N/A  N/A      3413      G   /usr/lib/xorg/Xorg                  4MiB |</span><br><span class="line">|    2   N/A  N/A      3413      G   /usr/lib/xorg/Xorg                  4MiB |</span><br><span class="line">|    3   N/A  N/A      3413      G   /usr/lib/xorg/Xorg                  4MiB |</span><br><span class="line">+-----------------------------------------------------------------------------+</span><br><span class="line">(base) wangzy@dell:~$ nvcc -V</span><br><span class="line">nvcc: NVIDIA (R) Cuda compiler driver</span><br><span class="line">Copyright (c) 2005-2022 NVIDIA Corporation</span><br><span class="line">Built on Wed_Jun__8_16:49:14_PDT_2022</span><br><span class="line">Cuda compilation tools, release 11.7, V11.7.99</span><br><span class="line">Build cuda_11.7.r11.7/compiler.31442593_0</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2><span id="tmp-空间不足">tmp 空间不足</span></h2><ul><li>原因：可能读取大量文件（IO需求很大），每打开一个文件，&#x2F;tmp都会有对文件的缓存</li><li>解决方案：<ul><li>减少大量文件读取</li><li>删除&#x2F;tmp下的部分内容（容易误删）</li><li>增大&#x2F;tmp空间，拓展&#x2F;tmp <a href="https://blog.csdn.net/weixin_41870042/article/details/120971939">Link1</a> <a href="https://freexyz.cn/server/c83d69f13f48aadc85fbc6df1d094132.html">Link2</a></li></ul></li></ul><h2><span id="ubuntu-用户无法自动加载-bashrc的问题">Ubuntu: 用户无法自动加载 .bashrc的问题</span></h2><p>解决办法：在~&#x2F;.bash_profile里添加上：<br>if [ -f ~&#x2F;.bashrc ] ; then<br>    source ~&#x2F;.bashrc<br>fi</p><h2><span id="服务器换ip">服务器换ip</span></h2><p>科大的DNS:<br>202.38.64.1<br>202.38.64.7<br>用笔记本电脑连接网线测试 网口是否有问题，连接网络通，获取ip</p><h2><span id="学习链接"></span></h2><p>常用命令链接： <a href="https://www.runoob.com/linux/linux-command-manual.html">https://www.runoob.com/linux/linux-command-manual.html</a><br>科大BBS Linux系统： <a href="http://bbs.ustc.edu.cn/cgi/bbsdoc?board=Linux">http://bbs.ustc.edu.cn/cgi/bbsdoc?board=Linux</a><br>清华水木社区Linux系统与应用： <a href="http://www.newsmth.net/bbsdoc.php?board=LinuxApp">http://www.newsmth.net/bbsdoc.php?board=LinuxApp</a><br>清华水木社区Linux开发与高级讨论： <a href="http://www.newsmth.net/bbsdoc.php?board=LinuxDev">http://www.newsmth.net/bbsdoc.php?board=LinuxDev</a><br>ChinaUnix：<a href="http://www.chinaunix.net/">http://www.chinaunix.net/</a> CSDN：<a href="https://bbs.csdn.net/forums/Linux">https://bbs.csdn.net/forums/Linux</a><br>鸟哥的Linux私房菜：<a href="http://www.runoob.com/linux/linux-command-manual.html">http://www.runoob.com/linux/linux-command-manual.html</a> Linux<br>常用软件推荐集合汇总： <a href="http://www.it610.com/article/1929114.htm">http://www.it610.com/article/1929114.htm</a><br>Linux指令大全： <a href="http://www.runoob.com/linux/linux-command-manual.html">http://www.runoob.com/linux/linux-command-manual.html</a><br>李会民 (中国科大超算中心) Linux操作系统使用基础: <a href="http://hmli.ustc.edu.cn/">http://hmli.ustc.edu.cn/</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;!-- toc --&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#%E6%96%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%83%A8%E7%BD%B2&quot;&gt;新服务器部署&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#%E6%9C%8D%E5%8A%A1%E5</summary>
      
    
    
    
    <category term="Linux" scheme="https://wangzhangyu.github.io/categories/Linux/"/>
    
    
  </entry>
  
  <entry>
    <title>Python Folium 绘制交互式地图</title>
    <link href="https://wangzhangyu.github.io/2023/07/18/Python%20Folium/"/>
    <id>https://wangzhangyu.github.io/2023/07/18/Python%20Folium/</id>
    <published>2023-07-18T10:09:22.000Z</published>
    <updated>2023-07-18T10:09:26.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p><a href="https://github.com/WangZhangyu/Interactive_map">https://github.com/WangZhangyu/Interactive_map</a></p></blockquote><h3><span id="folium">Folium</span></h3><p>folium是python非常好用的交互式地图工具包，今天我们用folium来绘制简单精美的地震分布热力图。<br>我们选择川滇部分地区，蓝色方框圈定的区域进行绘制。橙色圆圈代表的是AETA 观测台站，黑色圆圈代表的是地震（ML3.5以上），黑色圆圈越大，震级越大。绘制地震分布的热力图，我们可以非常清晰的看到地震的集中分布情况。</p><p><img src="/2023/07/18/Python%20Folium/1.jpeg" alt="地震分布热力图"><br>绘制结果以.html的格式保存，我们可以对地图随意的放大缩小，当鼠标停留在黑色圆圈（地震）上时，地图会显示地震的发震时间和震级信息；当鼠标停留在橙色圆圈（台站）上时，会显示对应的台站名称。<br><img src="/2023/07/18/Python%20Folium/2.gif" alt="交互式地图"></p><ul><li><p>安装Folium 库</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install folium </span><br></pre></td></tr></table></figure></li><li><p>导入必要的库</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> folium</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> webbrowser</span><br><span class="line"><span class="keyword">from</span> folium.plugins <span class="keyword">import</span> HeatMap</span><br></pre></td></tr></table></figure></li><li><p>加载AETA台站的信息并显示<br><img src="/2023/07/18/Python%20Folium/a.jpeg"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">cdata = pd.read_csv(<span class="string">&#x27;StationInfo.csv&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> lat, lon,label  <span class="keyword">in</span> <span class="built_in">zip</span>(cdata.Latitude, cdata.Longitude, cdata.Title):</span><br><span class="line">    incidents.add_child(</span><br><span class="line">        folium.CircleMarker(</span><br><span class="line">            [lat, lon],</span><br><span class="line">            radius=<span class="number">7</span>, </span><br><span class="line">            color=<span class="string">&#x27;yellow&#x27;</span>,</span><br><span class="line">            fill=<span class="literal">True</span>,</span><br><span class="line">            fill_color=<span class="string">&#x27;red&#x27;</span>,</span><br><span class="line">            fill_opacity=<span class="number">0.4</span>,</span><br><span class="line">            tooltip=label</span><br><span class="line">        )</span><br><span class="line">    )</span><br></pre></td></tr></table></figure></li><li><p>加载并绘制地震目录信息<br><img src="/2023/07/18/Python%20Folium/b.jpeg"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">eq = pd.read_csv(<span class="string">&#x27;eqlst.csv&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> lat, lon, mag, time  <span class="keyword">in</span> <span class="built_in">zip</span>(eq.Latitude, eq.Longitude, eq.Magnitude,eq.Time):</span><br><span class="line">    incidents.add_child([图片上传中...(catalog.jpg-6f9441-<span class="number">1618157345666</span>-<span class="number">0</span>)]</span><br><span class="line"></span><br><span class="line">        folium.CircleMarker(</span><br><span class="line">            [lat, lon],</span><br><span class="line">            radius=(mag-<span class="number">3</span>)*<span class="number">4</span>, </span><br><span class="line">            color=<span class="string">&#x27;black&#x27;</span>,</span><br><span class="line">            fill=<span class="literal">True</span>,</span><br><span class="line">            fill_color=<span class="string">&#x27;black&#x27;</span>,</span><br><span class="line">            fill_opacity=<span class="number">0.5</span>,</span><br><span class="line">            weight = <span class="number">0.001</span>,</span><br><span class="line">            stroke = <span class="literal">False</span>,</span><br><span class="line">            tooltip= <span class="string">&#x27;%s ML %.f&#x27;</span> % (time,mag)</span><br><span class="line">        )</span><br><span class="line">    )</span><br></pre></td></tr></table></figure></li><li><p>绘制地震分布热力图</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">heatdata = eq[[<span class="string">&#x27;Latitude&#x27;</span>,<span class="string">&#x27;Longitude&#x27;</span>,<span class="string">&#x27;Magnitude&#x27;</span>]].values.tolist()</span><br><span class="line">HeatMap(heatdata).add_to(incidents)</span><br></pre></td></tr></table></figure></li><li><p>完整代码</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">Created on Sun Apr 11 20:40:32 2021</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">@author: Zhangyu Wang</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">import</span> folium</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> webbrowser</span><br><span class="line"><span class="keyword">from</span> folium.plugins <span class="keyword">import</span> HeatMap</span><br><span class="line"></span><br><span class="line"><span class="comment"># Chuandain latitude and longitude</span></span><br><span class="line">latitude = <span class="number">28</span></span><br><span class="line">longitude = <span class="number">102.5</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># instantiate a feature group for the incidents in the dataframe</span></span><br><span class="line">incidents = folium.<span class="built_in">map</span>.FeatureGroup()</span><br><span class="line"></span><br><span class="line"><span class="comment"># read stations </span></span><br><span class="line">cdata = pd.read_csv(<span class="string">&#x27;StationInfo.csv&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> lat, lon,label  <span class="keyword">in</span> <span class="built_in">zip</span>(cdata.Latitude, cdata.Longitude, cdata.Title):</span><br><span class="line">    incidents.add_child(</span><br><span class="line">        folium.CircleMarker(</span><br><span class="line">            [lat, lon],</span><br><span class="line">            radius=<span class="number">7</span>, </span><br><span class="line">            color=<span class="string">&#x27;yellow&#x27;</span>,</span><br><span class="line">            fill=<span class="literal">True</span>,</span><br><span class="line">            fill_color=<span class="string">&#x27;red&#x27;</span>,</span><br><span class="line">            fill_opacity=<span class="number">0.4</span>,</span><br><span class="line">            tooltip=label</span><br><span class="line">        )</span><br><span class="line">    )</span><br><span class="line">        </span><br><span class="line"><span class="comment"># read catalog</span></span><br><span class="line">eq = pd.read_csv(<span class="string">&#x27;eqlst.csv&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> lat, lon, mag, time  <span class="keyword">in</span> <span class="built_in">zip</span>(eq.Latitude, eq.Longitude, eq.Magnitude,eq.Time):</span><br><span class="line">    incidents.add_child(</span><br><span class="line">        folium.CircleMarker(</span><br><span class="line">            [lat, lon],</span><br><span class="line">            radius=(mag-<span class="number">3</span>)*<span class="number">4</span>, </span><br><span class="line">            color=<span class="string">&#x27;black&#x27;</span>,</span><br><span class="line">            fill=<span class="literal">True</span>,</span><br><span class="line">            fill_color=<span class="string">&#x27;black&#x27;</span>,</span><br><span class="line">            fill_opacity=<span class="number">0.5</span>,</span><br><span class="line">            weight = <span class="number">0.001</span>,</span><br><span class="line">            stroke = <span class="literal">False</span>,</span><br><span class="line">            tooltip= <span class="string">&#x27;%s ML %.f&#x27;</span> % (time,mag)</span><br><span class="line">        )</span><br><span class="line">    )</span><br><span class="line">            </span><br><span class="line"><span class="comment"># catalog heatmap</span></span><br><span class="line">heatdata = eq[[<span class="string">&#x27;Latitude&#x27;</span>,<span class="string">&#x27;Longitude&#x27;</span>,<span class="string">&#x27;Magnitude&#x27;</span>]].values.tolist()</span><br><span class="line">HeatMap(heatdata).add_to(incidents)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># add a single earthquake</span></span><br><span class="line">incidents.add_child(folium.Marker([<span class="number">28.9</span>, <span class="number">103.3</span>],icon=folium.Icon(color=<span class="string">&#x27;red&#x27;</span>), tooltip=<span class="string">&#x27;M = 4.0&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># add area border</span></span><br><span class="line">ls = folium.PolyLine(locations=[[<span class="number">22</span>,<span class="number">98</span>],[<span class="number">22</span>,<span class="number">107</span>],[<span class="number">34</span>,<span class="number">107</span>],[<span class="number">34</span>,<span class="number">98</span>],[<span class="number">22</span>,<span class="number">98</span>]],color=<span class="string">&#x27;blue&#x27;</span>)</span><br><span class="line">ls.add_to(incidents)</span><br><span class="line"></span><br><span class="line"><span class="comment"># add incidents to map</span></span><br><span class="line">my_map = folium.Map(location=[latitude, longitude], zoom_start=<span class="number">6</span>)</span><br><span class="line">my_map.add_child(incidents)</span><br><span class="line"></span><br><span class="line"><span class="comment"># add latitude and longitude in the map when click</span></span><br><span class="line">my_map.add_child(folium.LatLngPopup())</span><br><span class="line"></span><br><span class="line"><span class="comment"># save map</span></span><br><span class="line">my_map.save(<span class="string">&#x27;Chuandian_aeta.html&#x27;</span>)</span><br><span class="line">webbrowser.<span class="built_in">open</span>(<span class="string">&#x27;Chuandian_aeta.html&#x27;</span>)</span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/WangZhangyu/Interactive_map&quot;&gt;https://github.com/WangZhangyu/Interactive_map&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote</summary>
      
    
    
    
    <category term="python" scheme="https://wangzhangyu.github.io/categories/python/"/>
    
    
  </entry>
  
  <entry>
    <title>linux网络配置</title>
    <link href="https://wangzhangyu.github.io/2023/07/18/linux%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE/"/>
    <id>https://wangzhangyu.github.io/2023/07/18/linux%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE/</id>
    <published>2023-07-18T10:05:41.000Z</published>
    <updated>2023-07-18T10:05:47.000Z</updated>
    
    <content type="html"><![CDATA[<!-- toc --><ul><li><a href="#1-interfaces%E9%85%8D%E7%BD%AE">1. Interfaces配置</a></li><li><a href="#2-ubuntu-%E6%A1%8C%E9%9D%A2gui%E7%95%8C%E9%9D%A2%E9%85%8D%E7%BD%AE">2. Ubuntu 桌面GUI界面配置</a></li><li><a href="#3-netplan">3. Netplan</a></li><li><a href="#4-%E5%B8%A6%E7%95%8C%E9%9D%A2%E7%9A%84%E5%91%BD%E4%BB%A4%E8%A1%8C-nmtui">4. 带界面的命令行 nmtui</a></li><li><a href="#tips">tips</a></li><li><a href="#%E5%8F%82%E8%80%83">参考</a></li></ul><!-- tocstop --><blockquote><p>可以通过命令行，GUI界面等配置工具</p></blockquote><h1><span id="1-interfaces配置">1. Interfaces配置</span></h1><p> &#x2F;etc&#x2F;network&#x2F;interfaces 文件里配置</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">auto enp10s0</span><br><span class="line">iface enp10s0 inet static</span><br><span class="line">address 192.168.1.162</span><br><span class="line">netmask 255.255.255.0</span><br><span class="line">gateway 192.168.1.100</span><br><span class="line">dns-nameservers 1.0.0.1,1.1.1.1</span><br></pre></td></tr></table></figure><p>保存并关闭文件。使用命令重启网络</p><ul><li>带systemd的发行版<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl restart networking</span><br></pre></td></tr></table></figure></li><li>不带systemd的老版本<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo /etc/init.d/networking restart</span><br></pre></td></tr></table></figure></li></ul><h1><span id="2-ubuntu-桌面gui界面配置">2. Ubuntu 桌面GUI界面配置</span></h1><p>系统-网络配置-点击</p><h1><span id="3-netplan">3. Netplan</span></h1><p>Netplan 是一个在某些 Linux 发行版上配置网络连接的命令行工具。Netplan 使用 YAML 描述文件来配置网络接口，然后，通过这些描述为任何给定的呈现工具生成必要的配置选项。<br>Linux 上使用 Netplan 配置静态 IP 地址和 DHCP 地址<br>&#x2F;etc&#x2F;netplan 文件夹下存放 Netplan 的新配置文件<br>&#x2F;etc&#x2F;netplan&#x2F;01-netcfg.yaml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">network:</span></span><br><span class="line"> </span><br><span class="line">   <span class="attr">Version:</span> <span class="number">2</span></span><br><span class="line"> </span><br><span class="line">   <span class="attr">Renderer:</span> <span class="string">networkd</span></span><br><span class="line"> </span><br><span class="line">   <span class="attr">ethernets:</span></span><br><span class="line"> </span><br><span class="line">      <span class="attr">DEVICE_NAME:</span></span><br><span class="line"> </span><br><span class="line">         <span class="attr">Dhcp4:</span> <span class="literal">yes</span><span class="string">/no</span></span><br><span class="line"> </span><br><span class="line">         <span class="attr">Addresses:</span> [<span class="string">IP/NETMASK</span>]</span><br><span class="line"> </span><br><span class="line">         <span class="attr">Gateway:</span> <span class="string">GATEWAY</span></span><br><span class="line"> </span><br><span class="line">         <span class="attr">Nameservers:</span></span><br><span class="line"> </span><br><span class="line">            <span class="attr">Addresses:</span> [<span class="string">NAMESERVER</span>, <span class="string">NAMESERVER</span>]</span><br></pre></td></tr></table></figure><p>其中：</p><p> DEVICE_NAME 是需要配置设备的实际名称。<br> yes&#x2F; no 代表是否启用 dhcp4（动态获取）<br> dhcp6  是否打开 IPv6 的 dhcp。<br> IP 是设备的 IP 地址。<br> NETMASK 是 IP 地址的掩码。<br> GATEWAY 是网关的地址。<br> NAMESERVER 是由逗号分开的 DNS 服务器列表<br> 样例：<br> <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">network:</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">version:</span> <span class="number">2</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">renderer:</span> <span class="string">networkd</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">ethernets:</span></span><br><span class="line"></span><br><span class="line">     <span class="attr">ens33:</span></span><br><span class="line"></span><br><span class="line">     <span class="attr">dhcp4:</span> <span class="literal">no</span></span><br><span class="line"></span><br><span class="line">     <span class="attr">addresses:</span> [<span class="number">192.168</span><span class="number">.1</span><span class="number">.230</span><span class="string">/24</span>]</span><br><span class="line"></span><br><span class="line">     <span class="attr">gateway4:</span> <span class="number">192.168</span><span class="number">.1</span><span class="number">.254</span></span><br><span class="line"></span><br><span class="line">     <span class="attr">nameservers:</span></span><br><span class="line"></span><br><span class="line">        <span class="attr">addresses:</span> [<span class="number">8.8</span><span class="number">.4</span><span class="number">.4</span>,<span class="number">8.8</span><span class="number">.8</span><span class="number">.8</span>]</span><br></pre></td></tr></table></figure><br>掩码已经不用再配置为 255.255.255.0 这种形式。取而代之的是，掩码已被添加进了 IP 地址中。</p><ul><li>测试配置 sudo netplan try</li><li>应用配置 sudo netplan apply</li><li>在 Netplan 上使用 DHCP<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">network:</span></span><br><span class="line"> </span><br><span class="line">   <span class="attr">version:</span> <span class="number">2</span></span><br><span class="line"> </span><br><span class="line">   <span class="attr">renderer:</span> <span class="string">networkd</span></span><br><span class="line"> </span><br><span class="line">   <span class="attr">ethernets:</span></span><br><span class="line"> </span><br><span class="line">      <span class="attr">ens5:</span></span><br><span class="line"> </span><br><span class="line">      <span class="attr">Addresses:</span> []</span><br><span class="line"> </span><br><span class="line">      <span class="attr">dhcp4:</span> <span class="literal">true</span></span><br><span class="line"> </span><br><span class="line">      <span class="attr">optional:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>此时可以使用 ifconfig 命令得到动态分配的地址，然后重新配置静态地址。</li></ul><h1><span id="4-带界面的命令行-nmtui">4. 带界面的命令行 nmtui</span></h1><ul><li>在命令行输入nmtui<br><img src="/2023/07/18/linux%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE/1.png" alt="在这里插入图片描述"><br><img src="/2023/07/18/linux%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE/2.png" alt="在这里插入图片描述"><br><img src="/2023/07/18/linux%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE/3.png" alt="在这里插入图片描述"></li></ul><h1><span id="tips">tips</span></h1><ul><li>查看网卡对应的物理端口<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ethtool -p enp10s0f0</span><br></pre></td></tr></table></figure>指定对应的物理端口右侧绿灯闪烁，其他网卡灯熄灭</li></ul><h1><span id="参考">参考</span></h1><ul><li><a href="https://blog.csdn.net/h4241778/article/details/110099003">https://blog.csdn.net/h4241778/article/details/110099003</a></li><li><a href="http://t.zoukankan.com/xuliang-daydayup-p-12542746.html">http://t.zoukankan.com/xuliang-daydayup-p-12542746.html</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;!-- toc --&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#1-interfaces%E9%85%8D%E7%BD%AE&quot;&gt;1. Interfaces配置&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#2-ubuntu-%E6%A1%8C%E9%9D%A2gui%E7%95</summary>
      
    
    
    
    <category term="Linux" scheme="https://wangzhangyu.github.io/categories/Linux/"/>
    
    
    <category term="blog" scheme="https://wangzhangyu.github.io/tags/blog/"/>
    
  </entry>
  
</feed>
