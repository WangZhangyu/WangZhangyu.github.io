<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Hexo</title>
  
  
  <link href="https://wangzhangyu.github.io/atom.xml" rel="self"/>
  
  <link href="https://wangzhangyu.github.io/"/>
  <updated>2023-07-21T06:32:09.395Z</updated>
  <id>https://wangzhangyu.github.io/</id>
  
  <author>
    <name>Wang Zhangyu</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>gitalk 第三方评论</title>
    <link href="https://wangzhangyu.github.io/2023/07/20/gitalk/"/>
    <id>https://wangzhangyu.github.io/2023/07/20/gitalk/</id>
    <published>2023-07-20T11:42:20.000Z</published>
    <updated>2023-07-21T06:32:09.395Z</updated>
    
    <content type="html"><![CDATA[<h2><span id="使用gitalk的常见问题">使用Gitalk的常见问题</span></h2><ul><li><p>问题： 未找到相关的 Issues 进行评论，请联系@作者初始化创建</p><blockquote><p>打开文章页面登录作者github账号</p></blockquote></li><li><p>问题： 403错误</p><blockquote><p>代理失效</p></blockquote></li><li><p>问题： network错误</p><blockquote><p>代理失效</p></blockquote></li></ul><p>原因是：主题模版中的cors-anywhere反向代理已不支持直接使用，Gitalk的默认proxy为</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Default: https://cors-anywhere.herokuapp.com/https://github.com/login/oauth/access_token.</span><br></pre></td></tr></table></figure><p><a href="https://dash.cloudflare.com/">cloudflare</a></p><p>参考文章： <a href="https://blog.csdn.net/nocodeis/article/details/117826704">https://blog.csdn.net/nocodeis/article/details/117826704</a></p><h2><span id="借用某位博客的代理">借用某位博客的代理</span></h2><p>使用<a href="https://blog.csdn.net/nocodeis/article/details/117826704">文章中的方法</a>构建的代理仍然报错<code>network error</code>, 应该还是代理没有设置好。</p><p>没有办法只能借用别的代理设置了，方法不是很可取，但可以临时用用。参考下边的方式</p><p><img src="/2023/07/20/gitalk/iShot_2023-07-21_13.55.30.png"></p><ul><li>找到一个集成了Gitalk的博客</li><li>打开浏览器的开发者模式</li><li>选择network项，在filter中输入access</li><li>此时在博客的评论区中登录自己的Github账号<ul><li>在Request URL栏中，选择带有<code>https://github.com/login/oauth/access_token</code>的地址，这串拼接出来的地址就是代理地址，可以直接加入到proxy中</li></ul></li></ul><p>现在评论功能就正常了。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2&gt;&lt;span id=&quot;使用gitalk的常见问题&quot;&gt;使用Gitalk的常见问题&lt;/span&gt;&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;问题： 未找到相关的 Issues 进行评论，请联系@作者初始化创建&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;打开文章页面登录作者github账号&lt;</summary>
      
    
    
    
    <category term="博客搭建" scheme="https://wangzhangyu.github.io/categories/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/"/>
    
    
  </entry>
  
  <entry>
    <title>comment</title>
    <link href="https://wangzhangyu.github.io/2023/07/20/comment/"/>
    <id>https://wangzhangyu.github.io/2023/07/20/comment/</id>
    <published>2023-07-20T09:36:23.000Z</published>
    <updated>2023-07-21T06:52:59.018Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://github.com/ppoffice/hexo-theme-icarus/issues/478">https://github.com/ppoffice/hexo-theme-icarus/issues/478</a></p><p><a href="https://juejin.cn/post/6956892118363144229">https://juejin.cn/post/6956892118363144229</a></p><p>相册功能：<br><a href="https://blog.csdn.net/weixin_43347550/article/details/120191200">https://blog.csdn.net/weixin_43347550/article/details/120191200</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://github.com/ppoffice/hexo-theme-icarus/issues/478&quot;&gt;https://github.com/ppoffice/hexo-theme-icarus/issues/478&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>博客主题</title>
    <link href="https://wangzhangyu.github.io/2023/07/19/ha/index/"/>
    <id>https://wangzhangyu.github.io/2023/07/19/ha/index/</id>
    <published>2023-07-19T05:19:19.691Z</published>
    <updated>2023-07-20T06:26:56.307Z</updated>
    
    <content type="html"><![CDATA[<h1><span id="博客主题-hexo-theme-pure">博客主题 hexo-theme-pure</span></h1><p>下载链接 <a href="https://github.com/cofess/hexo-theme-pure">https://github.com/cofess/hexo-theme-pure</a></p><h1><span id="hexo个人博客部署到github">Hexo个人博客部署到Github</span></h1><p><a href="https://mizeri.github.io/2021/04/18/Hexo-blog-deploy/">参考</a></p><p>git, hexo and Node.js</p><p>写作搭档</p><blockquote><p>hexo+hexon+typora</p></blockquote><p><a href="https://github.com/gethexon/hexon/">hexon</a>管理博客的开源代码</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;&lt;span id=&quot;博客主题-hexo-theme-pure&quot;&gt;博客主题 hexo-theme-pure&lt;/span&gt;&lt;/h1&gt;&lt;p&gt;下载链接 &lt;a href=&quot;https://github.com/cofess/hexo-theme-pure&quot;&gt;https://gith</summary>
      
    
    
    
    <category term="博客搭建" scheme="https://wangzhangyu.github.io/categories/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/"/>
    
    
    <category term="blog" scheme="https://wangzhangyu.github.io/tags/blog/"/>
    
  </entry>
  
  <entry>
    <title>Markdown 语法</title>
    <link href="https://wangzhangyu.github.io/2023/07/19/123/index/"/>
    <id>https://wangzhangyu.github.io/2023/07/19/123/index/</id>
    <published>2023-07-18T17:41:30.743Z</published>
    <updated>2023-07-20T04:47:21.391Z</updated>
    
    <content type="html"><![CDATA[<!-- toc --><ul><li><a href="#%E8%87%AA%E5%8A%A8%E7%94%9F%E6%88%90%E7%9B%AE%E5%BD%95">自动生成目录</a></li><li><a href="#%E7%94%98%E7%89%B9%E5%9B%BE">甘特图</a></li></ul><!-- tocstop --><h1><span id="自动生成目录">自动生成目录</span></h1><ul><li>CSDN中<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@[TOC](linux网络配置 )</span><br></pre></td></tr></table></figure></li><li>hexo 中<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- toc --&gt;</span><br></pre></td></tr></table></figure></li></ul><h1><span id="甘特图">甘特图</span></h1>]]></content>
    
    
      
      
    <summary type="html">&lt;!-- toc --&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#%E8%87%AA%E5%8A%A8%E7%94%9F%E6%88%90%E7%9B%AE%E5%BD%95&quot;&gt;自动生成目录&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#%E7%94%98%E7%89%B9%E5</summary>
      
    
    
    
    <category term="博客搭建" scheme="https://wangzhangyu.github.io/categories/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/"/>
    
    
    <category term="markdown" scheme="https://wangzhangyu.github.io/tags/markdown/"/>
    
  </entry>
  
  <entry>
    <title>Linux服务器运维</title>
    <link href="https://wangzhangyu.github.io/2023/07/19/t1/index/"/>
    <id>https://wangzhangyu.github.io/2023/07/19/t1/index/</id>
    <published>2023-07-18T17:09:50.000Z</published>
    <updated>2023-07-27T17:09:52.000Z</updated>
    
    <content type="html"><![CDATA[<!-- toc --><ul><li><a href="#%E6%96%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%83%A8%E7%BD%B2">新服务器部署</a></li><li><a href="#%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AF">服务器基本信息</a></li><li><a href="#dell%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%BC%80%E6%9C%BA%E6%8C%82%E8%BD%BD">dell服务器开机挂载</a></li><li><a href="#%E5%85%B3%E6%9C%BA%E4%B8%8E%E9%87%8D%E5%90%AF">关机与重启</a></li><li><a href="#%E4%BF%AE%E6%94%B9root%E5%AF%86%E7%A0%81">修改root密码</a></li><li><a href="#node100-%E9%9B%86%E7%BE%A4%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%BC%80%E5%85%B3%E6%9C%BA">node100 集群服务器开关机：</a><ul><li><a href="#%E5%BC%80%E6%9C%BA%E9%A1%BA%E5%BA%8F">开机顺序：</a></li><li><a href="#%E5%85%B3%E6%9C%BA%E9%A1%BA%E5%BA%8F%E5%80%92%E7%9D%80%E6%9D%A5">关机顺序：（倒着来）</a></li></ul></li><li><a href="#%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%AE%89%E5%85%A8">服务器安全</a></li><li><a href="#tomoplus%E5%9B%BE%E5%83%8F%E6%98%BE%E7%A4%BA%E9%97%AE%E9%A2%98">tomoplus图像显示问题</a></li><li><a href="#tomoplus-license%E9%97%AE%E9%A2%98">tomoplus license问题</a></li><li><a href="#%E5%88%9B%E5%BB%BA%E8%B4%A6%E6%88%B7">创建账户</a></li><li><a href="#%E6%9B%B4%E6%94%B9%E6%96%87%E4%BB%B6%E5%A4%B9%E6%89%80%E6%9C%89%E8%80%85-%E6%9B%B4%E6%94%B9%E7%BB%84">更改文件夹所有者、更改组</a></li><li><a href="#ssh%E9%97%AE%E9%A2%98">ssh问题</a></li><li><a href="#gpu-%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%98%BE%E5%AD%98%E5%8D%A0%E7%94%A8%E4%BD%86%E6%98%AF%E6%89%BE%E4%B8%8D%E5%88%B0pid">GPU: 服务器显存占用但是找不到pid</a></li><li><a href="#gpu-nvidia-smi">GPU nvidia-smi</a></li><li><a href="#tmp-%E7%A9%BA%E9%97%B4%E4%B8%8D%E8%B6%B3">tmp 空间不足</a></li><li><a href="#ubuntu-%E7%94%A8%E6%88%B7%E6%97%A0%E6%B3%95%E8%87%AA%E5%8A%A8%E5%8A%A0%E8%BD%BD-bashrc%E7%9A%84%E9%97%AE%E9%A2%98">Ubuntu: 用户无法自动加载 .bashrc的问题</a></li><li><a href="#%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%8D%A2ip">服务器换ip</a></li><li><a href="#a-id%E5%AD%A6%E4%B9%A0%E9%93%BE%E6%8E%A5%E5%AD%A6%E4%B9%A0%E9%93%BE%E6%8E%A5a"><a id="学习链接">学习链接</a></a></li></ul><!-- tocstop --><hr><pre class="mermaid">gantt        dateFormat  YYYY-MM-DD        title 服务器购买        section 现有服务器        tomo 01 :done,    des1, 2015-01-06,2020-12-04        tomo 02 :done,    des2, 2015-01-06,2020-12-04        tomo 03  :    des3, 2015-01-06,2022-12-04        amax      :  des4, 2019-01-06,2022-12-04        node100  :         des5,2019-01-06,2022-12-04        dell        :          des6,2020-01-06,2022-12-04</pre><h2><span id="新服务器部署">新服务器部署</span></h2><ul><li>若采购新服务器，需要对home做单独分区，安装磁盘限额（可限制5G）。避免no sapce出现</li><li></li></ul><h2><span id="服务器基本信息">服务器基本信息</span></h2><p>密码更新日期：2022&#x2F;12&#x2F;4</p><table><thead><tr><th>服务器</th><th>IP</th><th>root密码</th><th>用途</th><th>属性</th></tr></thead><tbody><tr><td>dell</td><td>*******</td><td>*******</td><td>GPU</td><td>4块A100(40G左右显存)</td></tr><tr><td>amax</td><td>*******</td><td>*******</td><td>GPU</td><td>8块 GeForce GTX 1080（11G左右显存）</td></tr><tr><td>node100</td><td>*******</td><td>*******</td><td>CPU</td><td>8个计算节点</td></tr><tr><td>tomo 03</td><td>*******</td><td>*******</td><td>CPU</td><td>服务器</td></tr></tbody></table><h2><span id="dell服务器开机挂载">dell服务器开机挂载</span></h2><p>data2挂载在amax上，dell服务器通过访问amax来共享data2的数据。所以dell服务器正常使用的前提是amax正常。dell服务器每次开机需要重新挂载data2，挂载命令<br>A100挂载data3(node100服务器的存储)和data2</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mount -t nfs ***.***.***.***:/public/home  /data3</span><br><span class="line">mount -t nfs ***.***.***.***:/data2 /data2/</span><br></pre></td></tr></table></figure><p>***分别是node100的IP，amax的IP<br>Amax挂载A100上的文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mount -t nfs ***.***.***.***:/mnt/SCQR_data1  /mnt/SCQR_data1</span><br></pre></td></tr></table></figure><p>***为dell的IP<br>或者修改&#x2F;etc&#x2F;fstab</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">(base) wangzy@dell:~$ <span class="built_in">cat</span> /etc/fstab</span><br><span class="line"><span class="comment"># /etc/fstab: static file system information.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Use &#x27;blkid&#x27; to print the universally unique identifier for a</span></span><br><span class="line"><span class="comment"># device; this may be used with UUID= as a more robust way to name devices</span></span><br><span class="line"><span class="comment"># that works even if disks are added and removed. See fstab(5).</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># &lt;file system&gt; &lt;mount point&gt;   &lt;type&gt;  &lt;options&gt;       &lt;dump&gt;  &lt;pass&gt;</span></span><br><span class="line"><span class="comment"># / was on /dev/sda3 during installation</span></span><br><span class="line">UUID=6df9bb4a-766b-4ab1-92da-bad6179f800a /               ext4    errors=remount-ro 0       1</span><br><span class="line"><span class="comment"># /boot/efi was on /dev/sda1 during installation</span></span><br><span class="line">UUID=184B-1142  /boot/efi       vfat    <span class="built_in">umask</span>=0077      0       1</span><br><span class="line"><span class="comment"># swap was on /dev/sda2 during installation</span></span><br><span class="line">UUID=2e147d59-66aa-491e-a878-1e77aed61cce none            swap    sw              0       0</span><br><span class="line">192.168.0.3:/data2   /data2                                nfs     defaults      1  1</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>如果共享磁盘没有挂载，执行<code>/etc/rc.local</code><br><a href="https://blog.csdn.net/ws_kfxd/article/details/110088503">link</a></p><h2><span id="关机与重启">关机与重启</span></h2><p>关机 poweroff, shutdown -h +1<br>重启 reboot, shutdown -r +1<br>对于集群服务器，可能需要同步 clusconf –sync-do &#x2F;etc&#x2F;rc.local</p><h2><span id="修改root密码">修改root密码</span></h2><ol><li>passwd root(直接登录root修改)</li><li>sudo passwd（利用sudo账户修改）</li><li>忘记密码（重启服务器，单用户模式修改）：<ul><li><a href="https://cloud.tencent.com/developer/article/1843568">https://cloud.tencent.com/developer/article/1843568</a></li><li><a href="http://m.blog.chinaunix.net/ui-21209618-id-4738916.html">http://m.blog.chinaunix.net/ui-21209618-id-4738916.html</a></li></ul></li></ol><h2><span id="node100-集群服务器开关机">node100 集群服务器开关机：</span></h2><h3><span id="开机顺序">开机顺序：</span></h3><p>1.IB交换机（一般不用管）<br>2.网络交换机（一般不用管）<br>3.存储服务器<br>4.管理节点<br>5.计算节点</p><h3><span id="关机顺序倒着来">关机顺序：（倒着来）</span></h3><p>1.计算节点<br>2.管理节点<br>3.存储服务器<br>4.网络交换机（一般不用管）<br>5.IB交换机（一般不用管）</p><h2><span id="服务器安全">服务器安全</span></h2><p>安装fail2ban  <code>sudo apt install fail2ban</code><br>设置fail2ban配置策略<code>sudo vi /etc/fail2ban/jail.local</code><br>检查 Jails状况：<code>sudo fail2ban-client status sshd</code><br>封禁IP:<code>sudo fail2ban-client set sshd banip 23.34.45.56</code><br>解禁的IP:<code>sudo fail2ban-client set sshd unbanip 23.34.45.56</code></p><h2><span id="tomoplus图像显示问题">tomoplus图像显示问题</span></h2><p>ssh 连接是加X或Y<br><code>ssh -Y node1</code><br><code>ssh -X node1</code><br>运行xterm查看是否有图形界面弹出，如果没有，说明本次连接的shell不能显示图像</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[wangzy@node100 ~]$ xterm &amp;</span><br></pre></td></tr></table></figure><p>解决方法：一般重启终端（如：重启Mobaxterm）</p><h2><span id="tomoplus-license问题">tomoplus license问题</span></h2><p>tomoplus激活不需要root，任何普通账户都已运行下边的激活操作<br>选择当年的Tomoplus版本*2022.lic</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[wangzy@node100 ~]$ <span class="built_in">cd</span> ~</span><br><span class="line">[wangzy@node100 ~]$ <span class="built_in">cat</span> .flexlmrc</span><br><span class="line">GEOTOMO_LICENSE_FILE=/public/software/Geotomo_all_versions/GeoTomo64_v63_Auto/GeoTomo64jre18/TomoPlus/Tomo3D/../../license:/public/software/Geotomo_all_versions/GeoTomo64_v63_Auto/GeoTomo64/license</span><br><span class="line">[wangzy@node100 ~]$ <span class="built_in">cd</span> /public/software/Geotomo_all_versions/GeoTomo64_v63_Auto/GeoTomo64jre18/TomoPlus/Tomo3D/../../license</span><br><span class="line">[wangzy@node100 license]$ <span class="built_in">ls</span></span><br><span class="line">geotomo      license.v11.10  lmdown  lmreread  lmutil      tomoplus_6pt3_vecon_4pt5_velmap_geothrust_4pt1_linux_USTC_node100_e8611f3264f8_31dec2021.lic</span><br><span class="line">license.old  lmdiag          lmgrd   lmstat    README.txt  tomoplus_6pt4_vecon_4pt5_velmap_geothrust_4pt1_linux_USTC_node100_e8611f3264f8_31dec2022.lic</span><br><span class="line">[wangzy@node100 license]$ ./lmgrd -c tomoplus_6pt4_vecon_4pt5_velmap_geothrust_4pt1_linux_USTC_node100_e8611f3264f8_31dec2022.lic</span><br><span class="line"></span><br></pre></td></tr></table></figure><ol><li>如果仍有问题，先关闭tomoplus守护进程，重新激活<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[wangzy@node100 license]$ ./lmdown -c tomoplus_6pt4_vecon_4pt5_velmap_geothrust_4pt1_linux_USTC_node100_e8611f3264f8_31dec2022.lic</span><br><span class="line">[wangzy@node100 license]$ ./lmgrd -c tomoplus_6pt4_vecon_4pt5_velmap_geothrust_4pt1_linux_USTC_node100_e8611f3264f8_31dec2022.lic</span><br></pre></td></tr></table></figure></li><li>如果重启不成功，遇到 Permission denied的情况，直接删掉文件&#x2F;var&#x2F;tmp&#x2F;lockgeotomo</li></ol><h2><span id="创建账户">创建账户</span></h2><ul><li>单节点服务器：dell, amax, tomo 03 <ul><li>adduser XXX（创建用户）</li><li>userdel XXX</li></ul></li><li>集群服务器： node100<ul><li>clusconf -au XXX（创建用户）</li><li>clusconf  -du XXX (删除用户)</li></ul></li></ul><h2><span id="更改文件夹所有者-更改组">更改文件夹所有者、更改组</span></h2><p>更改文件夹所有者 chown wangzy –R wangzy&#x2F;<br>更改文件夹所有组 chgrp users –R wangzy</p><h2><span id="ssh问题">ssh问题</span></h2><p>查看一下home目录下有没有 .ssh 文件夹， 用 ls -al查看    (注：linux系统中以“.”开头的是隐藏文件)<br>如果没有，就自己建立一个 ： mkdir  .ssh<br>cd然后进入 .ssh，依次运行：<br>1   ssh-keygen  （命令后一直敲空格就行, 会生成几个文件）<br>2   cat id_dsa.pub &gt;&gt; authorized_keys<br>3   退出.ssh 至你的home， 运行  chmod -R 755 .ssh<br>4   进入.ssh， chmod 600 *</p><p>service sshd restart</p><h2><span id="gpu-服务器显存占用但是找不到pid">GPU: 服务器显存占用但是找不到pid</span></h2><p>fuser -v &#x2F;dev&#x2F;nvidia*<br>fuser -k &#x2F;dev&#x2F;nvidia*</p><p>Sudo 账户下操作</p><h2><span id="gpu-nvidia-smi">GPU nvidia-smi</span></h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">(base) wangzy@dell:~$ nvidia-smi</span><br><span class="line">Tue Dec  6 15:40:01 2022</span><br><span class="line">+-----------------------------------------------------------------------------+</span><br><span class="line">| NVIDIA-SMI 515.86.01    Driver Version: 515.86.01    CUDA Version: 11.7     |</span><br><span class="line">|-------------------------------+----------------------+----------------------+</span><br><span class="line">| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |</span><br><span class="line">| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |</span><br><span class="line">|                               |                      |               MIG M. |</span><br><span class="line">|===============================+======================+======================|</span><br><span class="line">|   0  NVIDIA A100-PCI...  Off  | 00000000:17:00.0 Off |                    0 |</span><br><span class="line">| N/A   34C    P0    34W / 250W |      4MiB / 40960MiB |      0%      Default |</span><br><span class="line">|                               |                      |             Disabled |</span><br><span class="line">+-------------------------------+----------------------+----------------------+</span><br><span class="line">|   1  NVIDIA A100-PCI...  Off  | 00000000:65:00.0 Off |                    0 |</span><br><span class="line">| N/A   34C    P0    33W / 250W |      4MiB / 40960MiB |      0%      Default |</span><br><span class="line">|                               |                      |             Disabled |</span><br><span class="line">+-------------------------------+----------------------+----------------------+</span><br><span class="line">|   2  NVIDIA A100-PCI...  Off  | 00000000:CA:00.0 Off |                    0 |</span><br><span class="line">| N/A   35C    P0    38W / 250W |      4MiB / 40960MiB |      0%      Default |</span><br><span class="line">|                               |                      |             Disabled |</span><br><span class="line">+-------------------------------+----------------------+----------------------+</span><br><span class="line">|   3  NVIDIA A100-PCI...  Off  | 00000000:E3:00.0 Off |                    0 |</span><br><span class="line">| N/A   34C    P0    35W / 250W |      4MiB / 40960MiB |      0%      Default |</span><br><span class="line">|                               |                      |             Disabled |</span><br><span class="line">+-------------------------------+----------------------+----------------------+</span><br><span class="line"></span><br><span class="line">+-----------------------------------------------------------------------------+</span><br><span class="line">| Processes:                                                                  |</span><br><span class="line">|  GPU   GI   CI        PID   Type   Process name                  GPU Memory |</span><br><span class="line">|        ID   ID                                                   Usage      |</span><br><span class="line">|=============================================================================|</span><br><span class="line">|    0   N/A  N/A      3413      G   /usr/lib/xorg/Xorg                  4MiB |</span><br><span class="line">|    1   N/A  N/A      3413      G   /usr/lib/xorg/Xorg                  4MiB |</span><br><span class="line">|    2   N/A  N/A      3413      G   /usr/lib/xorg/Xorg                  4MiB |</span><br><span class="line">|    3   N/A  N/A      3413      G   /usr/lib/xorg/Xorg                  4MiB |</span><br><span class="line">+-----------------------------------------------------------------------------+</span><br><span class="line">(base) wangzy@dell:~$ nvcc -V</span><br><span class="line">nvcc: NVIDIA (R) Cuda compiler driver</span><br><span class="line">Copyright (c) 2005-2022 NVIDIA Corporation</span><br><span class="line">Built on Wed_Jun__8_16:49:14_PDT_2022</span><br><span class="line">Cuda compilation tools, release 11.7, V11.7.99</span><br><span class="line">Build cuda_11.7.r11.7/compiler.31442593_0</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2><span id="tmp-空间不足">tmp 空间不足</span></h2><ul><li>原因：可能读取大量文件（IO需求很大），每打开一个文件，&#x2F;tmp都会有对文件的缓存</li><li>解决方案：<ul><li>减少大量文件读取</li><li>删除&#x2F;tmp下的部分内容（容易误删）</li><li>增大&#x2F;tmp空间，拓展&#x2F;tmp <a href="https://blog.csdn.net/weixin_41870042/article/details/120971939">Link1</a> <a href="https://freexyz.cn/server/c83d69f13f48aadc85fbc6df1d094132.html">Link2</a></li></ul></li></ul><h2><span id="ubuntu-用户无法自动加载-bashrc的问题">Ubuntu: 用户无法自动加载 .bashrc的问题</span></h2><p>解决办法：在~&#x2F;.bash_profile里添加上：<br>if [ -f ~&#x2F;.bashrc ] ; then<br>    source ~&#x2F;.bashrc<br>fi</p><h2><span id="服务器换ip">服务器换ip</span></h2><p>科大的DNS:<br>202.38.64.1<br>202.38.64.7<br>用笔记本电脑连接网线测试 网口是否有问题，连接网络通，获取ip</p><h2><span id="学习链接"></span></h2><p>常用命令链接： <a href="https://www.runoob.com/linux/linux-command-manual.html">https://www.runoob.com/linux/linux-command-manual.html</a><br>科大BBS Linux系统： <a href="http://bbs.ustc.edu.cn/cgi/bbsdoc?board=Linux">http://bbs.ustc.edu.cn/cgi/bbsdoc?board=Linux</a><br>清华水木社区Linux系统与应用： <a href="http://www.newsmth.net/bbsdoc.php?board=LinuxApp">http://www.newsmth.net/bbsdoc.php?board=LinuxApp</a><br>清华水木社区Linux开发与高级讨论： <a href="http://www.newsmth.net/bbsdoc.php?board=LinuxDev">http://www.newsmth.net/bbsdoc.php?board=LinuxDev</a><br>ChinaUnix：<a href="http://www.chinaunix.net/">http://www.chinaunix.net/</a> CSDN：<a href="https://bbs.csdn.net/forums/Linux">https://bbs.csdn.net/forums/Linux</a><br>鸟哥的Linux私房菜：<a href="http://www.runoob.com/linux/linux-command-manual.html">http://www.runoob.com/linux/linux-command-manual.html</a> Linux<br>常用软件推荐集合汇总： <a href="http://www.it610.com/article/1929114.htm">http://www.it610.com/article/1929114.htm</a><br>Linux指令大全： <a href="http://www.runoob.com/linux/linux-command-manual.html">http://www.runoob.com/linux/linux-command-manual.html</a><br>李会民 (中国科大超算中心) Linux操作系统使用基础: <a href="http://hmli.ustc.edu.cn/">http://hmli.ustc.edu.cn/</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;!-- toc --&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#%E6%96%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%83%A8%E7%BD%B2&quot;&gt;新服务器部署&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#%E6%9C%8D%E5%8A%A1%E5</summary>
      
    
    
    
    <category term="Linux" scheme="https://wangzhangyu.github.io/categories/Linux/"/>
    
    
  </entry>
  
  <entry>
    <title>Python Folium 绘制交互式地图</title>
    <link href="https://wangzhangyu.github.io/2023/07/18/test/index/"/>
    <id>https://wangzhangyu.github.io/2023/07/18/test/index/</id>
    <published>2023-07-18T10:09:22.000Z</published>
    <updated>2023-07-18T10:09:26.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p><a href="https://github.com/WangZhangyu/Interactive_map">https://github.com/WangZhangyu/Interactive_map</a></p></blockquote><h3 id="Folium"><a href="#Folium" class="headerlink" title="Folium"></a>Folium</h3><p>folium是python非常好用的交互式地图工具包，今天我们用folium来绘制简单精美的地震分布热力图。<br>我们选择川滇部分地区，蓝色方框圈定的区域进行绘制。橙色圆圈代表的是AETA 观测台站，黑色圆圈代表的是地震（ML3.5以上），黑色圆圈越大，震级越大。绘制地震分布的热力图，我们可以非常清晰的看到地震的集中分布情况。</p><p><img src="https://img-blog.csdnimg.cn/img_convert/c0d03d208f49cfa605aa77e5317a8664.jpeg" alt="地震分布热力图"><br>绘制结果以.html的格式保存，我们可以对地图随意的放大缩小，当鼠标停留在黑色圆圈（地震）上时，地图会显示地震的发震时间和震级信息；当鼠标停留在橙色圆圈（台站）上时，会显示对应的台站名称。<br><img src="https://img-blog.csdnimg.cn/img_convert/9caf8135c3662e89a6402984fb237ba9.gif" alt="交互式地图"></p><ul><li><p>安装Folium 库</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install folium </span><br></pre></td></tr></table></figure></li><li><p>导入必要的库</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> folium</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> webbrowser</span><br><span class="line"><span class="keyword">from</span> folium.plugins <span class="keyword">import</span> HeatMap</span><br></pre></td></tr></table></figure></li><li><p>加载AETA台站的信息并显示<br><img src="https://img-blog.csdnimg.cn/img_convert/8212966bf48128cdc4c9897268f6b488.jpeg"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">cdata = pd.read_csv(<span class="string">&#x27;StationInfo.csv&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> lat, lon,label  <span class="keyword">in</span> <span class="built_in">zip</span>(cdata.Latitude, cdata.Longitude, cdata.Title):</span><br><span class="line">    incidents.add_child(</span><br><span class="line">        folium.CircleMarker(</span><br><span class="line">            [lat, lon],</span><br><span class="line">            radius=<span class="number">7</span>, </span><br><span class="line">            color=<span class="string">&#x27;yellow&#x27;</span>,</span><br><span class="line">            fill=<span class="literal">True</span>,</span><br><span class="line">            fill_color=<span class="string">&#x27;red&#x27;</span>,</span><br><span class="line">            fill_opacity=<span class="number">0.4</span>,</span><br><span class="line">            tooltip=label</span><br><span class="line">        )</span><br><span class="line">    )</span><br></pre></td></tr></table></figure></li><li><p>加载并绘制地震目录信息<br><img src="https://img-blog.csdnimg.cn/img_convert/9784d58c306e9f7a1c82240382414b16.jpeg"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">eq = pd.read_csv(<span class="string">&#x27;eqlst.csv&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> lat, lon, mag, time  <span class="keyword">in</span> <span class="built_in">zip</span>(eq.Latitude, eq.Longitude, eq.Magnitude,eq.Time):</span><br><span class="line">    incidents.add_child([图片上传中...(catalog.jpg-6f9441-<span class="number">1618157345666</span>-<span class="number">0</span>)]</span><br><span class="line"></span><br><span class="line">        folium.CircleMarker(</span><br><span class="line">            [lat, lon],</span><br><span class="line">            radius=(mag-<span class="number">3</span>)*<span class="number">4</span>, </span><br><span class="line">            color=<span class="string">&#x27;black&#x27;</span>,</span><br><span class="line">            fill=<span class="literal">True</span>,</span><br><span class="line">            fill_color=<span class="string">&#x27;black&#x27;</span>,</span><br><span class="line">            fill_opacity=<span class="number">0.5</span>,</span><br><span class="line">            weight = <span class="number">0.001</span>,</span><br><span class="line">            stroke = <span class="literal">False</span>,</span><br><span class="line">            tooltip= <span class="string">&#x27;%s ML %.f&#x27;</span> % (time,mag)</span><br><span class="line">        )</span><br><span class="line">    )</span><br></pre></td></tr></table></figure></li><li><p>绘制地震分布热力图</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">heatdata = eq[[<span class="string">&#x27;Latitude&#x27;</span>,<span class="string">&#x27;Longitude&#x27;</span>,<span class="string">&#x27;Magnitude&#x27;</span>]].values.tolist()</span><br><span class="line">HeatMap(heatdata).add_to(incidents)</span><br></pre></td></tr></table></figure></li><li><p>完整代码</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">Created on Sun Apr 11 20:40:32 2021</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">@author: Zhangyu Wang</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">import</span> folium</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> webbrowser</span><br><span class="line"><span class="keyword">from</span> folium.plugins <span class="keyword">import</span> HeatMap</span><br><span class="line"></span><br><span class="line"><span class="comment"># Chuandain latitude and longitude</span></span><br><span class="line">latitude = <span class="number">28</span></span><br><span class="line">longitude = <span class="number">102.5</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># instantiate a feature group for the incidents in the dataframe</span></span><br><span class="line">incidents = folium.<span class="built_in">map</span>.FeatureGroup()</span><br><span class="line"></span><br><span class="line"><span class="comment"># read stations </span></span><br><span class="line">cdata = pd.read_csv(<span class="string">&#x27;StationInfo.csv&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> lat, lon,label  <span class="keyword">in</span> <span class="built_in">zip</span>(cdata.Latitude, cdata.Longitude, cdata.Title):</span><br><span class="line">    incidents.add_child(</span><br><span class="line">        folium.CircleMarker(</span><br><span class="line">            [lat, lon],</span><br><span class="line">            radius=<span class="number">7</span>, </span><br><span class="line">            color=<span class="string">&#x27;yellow&#x27;</span>,</span><br><span class="line">            fill=<span class="literal">True</span>,</span><br><span class="line">            fill_color=<span class="string">&#x27;red&#x27;</span>,</span><br><span class="line">            fill_opacity=<span class="number">0.4</span>,</span><br><span class="line">            tooltip=label</span><br><span class="line">        )</span><br><span class="line">    )</span><br><span class="line">        </span><br><span class="line"><span class="comment"># read catalog</span></span><br><span class="line">eq = pd.read_csv(<span class="string">&#x27;eqlst.csv&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> lat, lon, mag, time  <span class="keyword">in</span> <span class="built_in">zip</span>(eq.Latitude, eq.Longitude, eq.Magnitude,eq.Time):</span><br><span class="line">    incidents.add_child(</span><br><span class="line">        folium.CircleMarker(</span><br><span class="line">            [lat, lon],</span><br><span class="line">            radius=(mag-<span class="number">3</span>)*<span class="number">4</span>, </span><br><span class="line">            color=<span class="string">&#x27;black&#x27;</span>,</span><br><span class="line">            fill=<span class="literal">True</span>,</span><br><span class="line">            fill_color=<span class="string">&#x27;black&#x27;</span>,</span><br><span class="line">            fill_opacity=<span class="number">0.5</span>,</span><br><span class="line">            weight = <span class="number">0.001</span>,</span><br><span class="line">            stroke = <span class="literal">False</span>,</span><br><span class="line">            tooltip= <span class="string">&#x27;%s ML %.f&#x27;</span> % (time,mag)</span><br><span class="line">        )</span><br><span class="line">    )</span><br><span class="line">            </span><br><span class="line"><span class="comment"># catalog heatmap</span></span><br><span class="line">heatdata = eq[[<span class="string">&#x27;Latitude&#x27;</span>,<span class="string">&#x27;Longitude&#x27;</span>,<span class="string">&#x27;Magnitude&#x27;</span>]].values.tolist()</span><br><span class="line">HeatMap(heatdata).add_to(incidents)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># add a single earthquake</span></span><br><span class="line">incidents.add_child(folium.Marker([<span class="number">28.9</span>, <span class="number">103.3</span>],icon=folium.Icon(color=<span class="string">&#x27;red&#x27;</span>), tooltip=<span class="string">&#x27;M = 4.0&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># add area border</span></span><br><span class="line">ls = folium.PolyLine(locations=[[<span class="number">22</span>,<span class="number">98</span>],[<span class="number">22</span>,<span class="number">107</span>],[<span class="number">34</span>,<span class="number">107</span>],[<span class="number">34</span>,<span class="number">98</span>],[<span class="number">22</span>,<span class="number">98</span>]],color=<span class="string">&#x27;blue&#x27;</span>)</span><br><span class="line">ls.add_to(incidents)</span><br><span class="line"></span><br><span class="line"><span class="comment"># add incidents to map</span></span><br><span class="line">my_map = folium.Map(location=[latitude, longitude], zoom_start=<span class="number">6</span>)</span><br><span class="line">my_map.add_child(incidents)</span><br><span class="line"></span><br><span class="line"><span class="comment"># add latitude and longitude in the map when click</span></span><br><span class="line">my_map.add_child(folium.LatLngPopup())</span><br><span class="line"></span><br><span class="line"><span class="comment"># save map</span></span><br><span class="line">my_map.save(<span class="string">&#x27;Chuandian_aeta.html&#x27;</span>)</span><br><span class="line">webbrowser.<span class="built_in">open</span>(<span class="string">&#x27;Chuandian_aeta.html&#x27;</span>)</span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/WangZhangyu/Interactive_map&quot;&gt;https://github.com/WangZhangyu/Interactive_map&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote</summary>
      
    
    
    
    <category term="python" scheme="https://wangzhangyu.github.io/categories/python/"/>
    
    
  </entry>
  
  <entry>
    <title>linux网络配置</title>
    <link href="https://wangzhangyu.github.io/2023/07/18/%E6%90%AD%E5%BB%BAHexo%E6%9C%8D%E5%8A%A1%E5%99%A8/index/"/>
    <id>https://wangzhangyu.github.io/2023/07/18/%E6%90%AD%E5%BB%BAHexo%E6%9C%8D%E5%8A%A1%E5%99%A8/index/</id>
    <published>2023-07-18T10:05:41.000Z</published>
    <updated>2023-07-18T10:05:47.000Z</updated>
    
    <content type="html"><![CDATA[<!-- toc --><ul><li><a href="#1-interfaces%E9%85%8D%E7%BD%AE">1. Interfaces配置</a></li><li><a href="#2-ubuntu-%E6%A1%8C%E9%9D%A2gui%E7%95%8C%E9%9D%A2%E9%85%8D%E7%BD%AE">2. Ubuntu 桌面GUI界面配置</a></li><li><a href="#3netplan">3.Netplan</a></li><li><a href="#4%E5%B8%A6%E7%95%8C%E9%9D%A2%E7%9A%84%E5%91%BD%E4%BB%A4%E8%A1%8C-nmtui">4.带界面的命令行 nmtui</a></li><li><a href="#tips">tips</a></li><li><a href="#%E5%8F%82%E8%80%83">参考</a></li></ul><!-- tocstop --><p>@<a href="linux%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE">TOC</a></p><p>可以通过命令行，GUI界面等配置工具</p><h1><span id="1-interfaces配置">1. Interfaces配置</span></h1><p> &#x2F;etc&#x2F;network&#x2F;interfaces 文件里配置</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">auto enp10s0</span><br><span class="line">iface enp10s0 inet static</span><br><span class="line">address 192.168.1.162</span><br><span class="line">netmask 255.255.255.0</span><br><span class="line">gateway 192.168.1.100</span><br><span class="line">dns-nameservers 1.0.0.1,1.1.1.1</span><br></pre></td></tr></table></figure><p>保存并关闭文件。使用命令重启网络</p><ul><li>带systemd的发行版<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl restart networking</span><br></pre></td></tr></table></figure></li><li>不带systemd的老版本<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo /etc/init.d/networking restart</span><br></pre></td></tr></table></figure></li></ul><h1><span id="2-ubuntu-桌面gui界面配置">2. Ubuntu 桌面GUI界面配置</span></h1><p>系统-网络配置-点击</p><h1><span id="3netplan">3.Netplan</span></h1><p>Netplan 是一个在某些 Linux 发行版上配置网络连接的命令行工具。Netplan 使用 YAML 描述文件来配置网络接口，然后，通过这些描述为任何给定的呈现工具生成必要的配置选项。<br>Linux 上使用 Netplan 配置静态 IP 地址和 DHCP 地址<br>&#x2F;etc&#x2F;netplan 文件夹下存放 Netplan 的新配置文件<br>&#x2F;etc&#x2F;netplan&#x2F;01-netcfg.yaml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">network:</span></span><br><span class="line"> </span><br><span class="line">   <span class="attr">Version:</span> <span class="number">2</span></span><br><span class="line"> </span><br><span class="line">   <span class="attr">Renderer:</span> <span class="string">networkd</span></span><br><span class="line"> </span><br><span class="line">   <span class="attr">ethernets:</span></span><br><span class="line"> </span><br><span class="line">      <span class="attr">DEVICE_NAME:</span></span><br><span class="line"> </span><br><span class="line">         <span class="attr">Dhcp4:</span> <span class="literal">yes</span><span class="string">/no</span></span><br><span class="line"> </span><br><span class="line">         <span class="attr">Addresses:</span> [<span class="string">IP/NETMASK</span>]</span><br><span class="line"> </span><br><span class="line">         <span class="attr">Gateway:</span> <span class="string">GATEWAY</span></span><br><span class="line"> </span><br><span class="line">         <span class="attr">Nameservers:</span></span><br><span class="line"> </span><br><span class="line">            <span class="attr">Addresses:</span> [<span class="string">NAMESERVER</span>, <span class="string">NAMESERVER</span>]</span><br></pre></td></tr></table></figure><p>其中：</p><p> DEVICE_NAME 是需要配置设备的实际名称。<br> yes&#x2F; no 代表是否启用 dhcp4（动态获取）<br> dhcp6  是否打开 IPv6 的 dhcp。<br> IP 是设备的 IP 地址。<br> NETMASK 是 IP 地址的掩码。<br> GATEWAY 是网关的地址。<br> NAMESERVER 是由逗号分开的 DNS 服务器列表<br> 样例：<br> <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">network:</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">version:</span> <span class="number">2</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">renderer:</span> <span class="string">networkd</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">ethernets:</span></span><br><span class="line"></span><br><span class="line">     <span class="attr">ens33:</span></span><br><span class="line"></span><br><span class="line">     <span class="attr">dhcp4:</span> <span class="literal">no</span></span><br><span class="line"></span><br><span class="line">     <span class="attr">addresses:</span> [<span class="number">192.168</span><span class="number">.1</span><span class="number">.230</span><span class="string">/24</span>]</span><br><span class="line"></span><br><span class="line">     <span class="attr">gateway4:</span> <span class="number">192.168</span><span class="number">.1</span><span class="number">.254</span></span><br><span class="line"></span><br><span class="line">     <span class="attr">nameservers:</span></span><br><span class="line"></span><br><span class="line">        <span class="attr">addresses:</span> [<span class="number">8.8</span><span class="number">.4</span><span class="number">.4</span>,<span class="number">8.8</span><span class="number">.8</span><span class="number">.8</span>]</span><br></pre></td></tr></table></figure><br>掩码已经不用再配置为 255.255.255.0 这种形式。取而代之的是，掩码已被添加进了 IP 地址中。</p><ul><li>测试配置 sudo netplan try</li><li>应用配置 sudo netplan apply</li><li>在 Netplan 上使用 DHCP<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">network:</span></span><br><span class="line"> </span><br><span class="line">   <span class="attr">version:</span> <span class="number">2</span></span><br><span class="line"> </span><br><span class="line">   <span class="attr">renderer:</span> <span class="string">networkd</span></span><br><span class="line"> </span><br><span class="line">   <span class="attr">ethernets:</span></span><br><span class="line"> </span><br><span class="line">      <span class="attr">ens5:</span></span><br><span class="line"> </span><br><span class="line">      <span class="attr">Addresses:</span> []</span><br><span class="line"> </span><br><span class="line">      <span class="attr">dhcp4:</span> <span class="literal">true</span></span><br><span class="line"> </span><br><span class="line">      <span class="attr">optional:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>此时可以使用 ifconfig 命令得到动态分配的地址，然后重新配置静态地址。</li></ul><h1><span id="4带界面的命令行-nmtui">4.带界面的命令行 nmtui</span></h1><p><img src="https://img-blog.csdnimg.cn/ee7184993b454e5bbcecd41929196c90.png" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/bbb8af2e876248fa8484c7dc6ea17959.png" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/f00d9da991d447179390eddc90289efe.png" alt="在这里插入图片描述"></p><h1><span id="tips">tips</span></h1><ul><li>查看网卡对应的物理端口<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ethtool -p enp10s0f0</span><br></pre></td></tr></table></figure>指定对应的物理端口右侧绿灯闪烁，其他网卡灯熄灭</li></ul><h1><span id="参考">参考</span></h1><ul><li><a href="https://blog.csdn.net/h4241778/article/details/110099003">https://blog.csdn.net/h4241778/article/details/110099003</a></li><li><a href="http://t.zoukankan.com/xuliang-daydayup-p-12542746.html">http://t.zoukankan.com/xuliang-daydayup-p-12542746.html</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;!-- toc --&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#1-interfaces%E9%85%8D%E7%BD%AE&quot;&gt;1. Interfaces配置&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#2-ubuntu-%E6%A1%8C%E9%9D%A2gui%E7%95</summary>
      
    
    
    
    <category term="Linux" scheme="https://wangzhangyu.github.io/categories/Linux/"/>
    
    
    <category term="blog" scheme="https://wangzhangyu.github.io/tags/blog/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="https://wangzhangyu.github.io/2023/07/18/hello-world/"/>
    <id>https://wangzhangyu.github.io/2023/07/18/hello-world/</id>
    <published>2023-07-18T09:44:32.957Z</published>
    <updated>2023-07-19T09:43:47.216Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.io/docs/&quot;&gt;documentation&lt;/a&gt; for</summary>
      
    
    
    
    <category term="hexo" scheme="https://wangzhangyu.github.io/categories/hexo/"/>
    
    
  </entry>
  
</feed>
